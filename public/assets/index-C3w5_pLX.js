var ir=Object.defineProperty,or=Object.defineProperties;var cr=Object.getOwnPropertyDescriptors;var rt=Object.getOwnPropertySymbols;var lr=Object.prototype.hasOwnProperty,ur=Object.prototype.propertyIsEnumerable;var nt=(e,r,t)=>r in e?ir(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,O=(e,r)=>{for(var t in r||(r={}))lr.call(r,t)&&nt(e,t,r[t]);if(rt)for(var t of rt(r))ur.call(r,t)&&nt(e,t,r[t]);return e},A=(e,r)=>or(e,cr(r));var dr=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var C=(e,r,t)=>new Promise((n,s)=>{var i=l=>{try{c(t.next(l))}catch(u){s(u)}},o=l=>{try{c(t.throw(l))}catch(u){s(u)}},c=l=>l.done?n(l.value):Promise.resolve(l.value).then(i,o);c((t=t.apply(e,r)).next())});import{j as a,A as De,m as M,z as N,u as hr,F as fr}from"./ui-vendor-BuL-vHQp.js";import{a as mr,b as pr,R as z,u as xe,r as L,L as U,c as gr,O as wt,N as Ve,d as vr,e as $,B as yr}from"./react-vendor-DbADd6nL.js";import{c as be,a as T}from"./state-vendor-DhTtZAk7.js";var ei=dr(P=>{(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var $e={},at=mr;$e.createRoot=at.createRoot,$e.hydrateRoot=at.hydrateRoot;function ze(e,r){return ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},ze(e,r)}function Fe(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,ze(e,r)}var Te=function(){function e(){this.listeners=[]}var r=e.prototype;return r.subscribe=function(n){var s=this,i=n||function(){};return this.listeners.push(i),this.onSubscribe(),function(){s.listeners=s.listeners.filter(function(o){return o!==i}),s.onUnsubscribe()}},r.hasListeners=function(){return this.listeners.length>0},r.onSubscribe=function(){},r.onUnsubscribe=function(){},e}();function F(){return F=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},F.apply(null,arguments)}var Nt=typeof window=="undefined";function _(){}function xr(e,r){return typeof e=="function"?e(r):e}function br(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ce(e){return Array.isArray(e)?e:[e]}function jr(e,r){return Math.max(e+(r||0)-Date.now(),0)}function He(e,r,t){return qe(e)?typeof r=="function"?F({},t,{queryKey:e,queryFn:r}):F({},r,{queryKey:e}):e}function J(e,r,t){return qe(e)?[F({},r,{queryKey:e}),t]:[e||{},r]}function wr(e,r){if(e===!0&&r===!0||e==null&&r==null)return"all";if(e===!1&&r===!1)return"none";var t=e!=null?e:!r;return t?"active":"inactive"}function st(e,r){var t=e.active,n=e.exact,s=e.fetching,i=e.inactive,o=e.predicate,c=e.queryKey,l=e.stale;if(qe(c)){if(n){if(r.queryHash!==Ye(c,r.options))return!1}else if(!Pe(r.queryKey,c))return!1}var u=wr(t,i);if(u==="none")return!1;if(u!=="all"){var y=r.isActive();if(u==="active"&&!y||u==="inactive"&&y)return!1}return!(typeof l=="boolean"&&r.isStale()!==l||typeof s=="boolean"&&r.isFetching()!==s||o&&!o(r))}function it(e,r){var t=e.exact,n=e.fetching,s=e.predicate,i=e.mutationKey;if(qe(i)){if(!r.options.mutationKey)return!1;if(t){if(ae(r.options.mutationKey)!==ae(i))return!1}else if(!Pe(r.options.mutationKey,i))return!1}return!(typeof n=="boolean"&&r.state.status==="loading"!==n||s&&!s(r))}function Ye(e,r){var t=(r==null?void 0:r.queryKeyHashFn)||ae;return t(e)}function ae(e){var r=Ce(e);return Nr(r)}function Nr(e){return JSON.stringify(e,function(r,t){return Re(t)?Object.keys(t).sort().reduce(function(n,s){return n[s]=t[s],n},{}):t})}function Pe(e,r){return kt(Ce(e),Ce(r))}function kt(e,r){return e===r?!0:typeof e!=typeof r?!1:e&&r&&typeof e=="object"&&typeof r=="object"?!Object.keys(r).some(function(t){return!kt(e[t],r[t])}):!1}function Ct(e,r){if(e===r)return e;var t=Array.isArray(e)&&Array.isArray(r);if(t||Re(e)&&Re(r)){for(var n=t?e.length:Object.keys(e).length,s=t?r:Object.keys(r),i=s.length,o=t?[]:{},c=0,l=0;l<i;l++){var u=t?l:s[l];o[u]=Ct(e[u],r[u]),o[u]===e[u]&&c++}return n===i&&c===n?e:o}return r}function Re(e){if(!ot(e))return!1;var r=e.constructor;if(typeof r=="undefined")return!0;var t=r.prototype;return!(!ot(t)||!t.hasOwnProperty("isPrototypeOf"))}function ot(e){return Object.prototype.toString.call(e)==="[object Object]"}function qe(e){return typeof e=="string"||Array.isArray(e)}function kr(e){return new Promise(function(r){setTimeout(r,e)})}function ct(e){Promise.resolve().then(e).catch(function(r){return setTimeout(function(){throw r})})}function Pt(){if(typeof AbortController=="function")return new AbortController}var Cr=function(e){Fe(r,e);function r(){var n;return n=e.call(this)||this,n.setup=function(s){var i;if(!Nt&&((i=window)!=null&&i.addEventListener)){var o=function(){return s()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},n}var t=r.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},t.setEventListener=function(s){var i,o=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(c){typeof c=="boolean"?o.setFocused(c):o.onFocus()})},t.setFocused=function(s){this.focused=s,s&&this.onFocus()},t.onFocus=function(){this.listeners.forEach(function(s){s()})},t.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document=="undefined"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},r}(Te),Ne=new Cr,Pr=function(e){Fe(r,e);function r(){var n;return n=e.call(this)||this,n.setup=function(s){var i;if(!Nt&&((i=window)!=null&&i.addEventListener)){var o=function(){return s()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},n}var t=r.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},t.setEventListener=function(s){var i,o=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(c){typeof c=="boolean"?o.setOnline(c):o.onOnline()})},t.setOnline=function(s){this.online=s,s&&this.onOnline()},t.onOnline=function(){this.listeners.forEach(function(s){s()})},t.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator=="undefined"||typeof navigator.onLine=="undefined"?!0:navigator.onLine},r}(Te),ke=new Pr;function Mr(e){return Math.min(1e3*Math.pow(2,e),3e4)}function Me(e){return typeof(e==null?void 0:e.cancel)=="function"}var Mt=function(r){this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent};function Ae(e){return e instanceof Mt}var Ot=function(r){var t=this,n=!1,s,i,o,c;this.abort=r.abort,this.cancel=function(h){return s==null?void 0:s(h)},this.cancelRetry=function(){n=!0},this.continueRetry=function(){n=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(h,f){o=h,c=f});var l=function(f){t.isResolved||(t.isResolved=!0,r.onSuccess==null||r.onSuccess(f),i==null||i(),o(f))},u=function(f){t.isResolved||(t.isResolved=!0,r.onError==null||r.onError(f),i==null||i(),c(f))},y=function(){return new Promise(function(f){i=f,t.isPaused=!0,r.onPause==null||r.onPause()}).then(function(){i=void 0,t.isPaused=!1,r.onContinue==null||r.onContinue()})},p=function h(){if(!t.isResolved){var f;try{f=r.fn()}catch(v){f=Promise.reject(v)}s=function(g){if(!t.isResolved&&(u(new Mt(g)),t.abort==null||t.abort(),Me(f)))try{f.cancel()}catch(b){}},t.isTransportCancelable=Me(f),Promise.resolve(f).then(l).catch(function(v){var g,b;if(!t.isResolved){var w=(g=r.retry)!=null?g:3,d=(b=r.retryDelay)!=null?b:Mr,x=typeof d=="function"?d(t.failureCount,v):d,m=w===!0||typeof w=="number"&&t.failureCount<w||typeof w=="function"&&w(t.failureCount,v);if(n||!m){u(v);return}t.failureCount++,r.onFail==null||r.onFail(t.failureCount,v),kr(x).then(function(){if(!Ne.isFocused()||!ke.isOnline())return y()}).then(function(){n?u(v):h()})}})}};p()},Or=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(t){t()},this.batchNotifyFn=function(t){t()}}var r=e.prototype;return r.batch=function(n){var s;this.transactions++;try{s=n()}finally{this.transactions--,this.transactions||this.flush()}return s},r.schedule=function(n){var s=this;this.transactions?this.queue.push(n):ct(function(){s.notifyFn(n)})},r.batchCalls=function(n){var s=this;return function(){for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];s.schedule(function(){n.apply(void 0,o)})}},r.flush=function(){var n=this,s=this.queue;this.queue=[],s.length&&ct(function(){n.batchNotifyFn(function(){s.forEach(function(i){n.notifyFn(i)})})})},r.setNotifyFunction=function(n){this.notifyFn=n},r.setBatchNotifyFunction=function(n){this.batchNotifyFn=n},e}(),I=new Or,St=console;function Lt(){return St}function Sr(e){St=e}var Lr=function(){function e(t){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=t.meta,this.scheduleGc()}var r=e.prototype;return r.setOptions=function(n){var s;this.options=F({},this.defaultOptions,n),this.meta=n==null?void 0:n.meta,this.cacheTime=Math.max(this.cacheTime||0,(s=this.options.cacheTime)!=null?s:5*60*1e3)},r.setDefaultOptions=function(n){this.defaultOptions=n},r.scheduleGc=function(){var n=this;this.clearGcTimeout(),br(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){n.optionalRemove()},this.cacheTime))},r.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},r.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},r.setData=function(n,s){var i,o,c=this.state.data,l=xr(n,c);return(i=(o=this.options).isDataEqual)!=null&&i.call(o,c,l)?l=c:this.options.structuralSharing!==!1&&(l=Ct(c,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt}),l},r.setState=function(n,s){this.dispatch({type:"setState",state:n,setStateOptions:s})},r.cancel=function(n){var s,i=this.promise;return(s=this.retryer)==null||s.cancel(n),i?i.then(_).catch(_):Promise.resolve()},r.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},r.reset=function(){this.destroy(),this.setState(this.initialState)},r.isActive=function(){return this.observers.some(function(n){return n.options.enabled!==!1})},r.isFetching=function(){return this.state.isFetching},r.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(n){return n.getCurrentResult().isStale})},r.isStaleByTime=function(n){return n===void 0&&(n=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!jr(this.state.dataUpdatedAt,n)},r.onFocus=function(){var n,s=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});s&&s.refetch(),(n=this.retryer)==null||n.continue()},r.onOnline=function(){var n,s=this.observers.find(function(i){return i.shouldFetchOnReconnect()});s&&s.refetch(),(n=this.retryer)==null||n.continue()},r.addObserver=function(n){this.observers.indexOf(n)===-1&&(this.observers.push(n),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:n}))},r.removeObserver=function(n){this.observers.indexOf(n)!==-1&&(this.observers=this.observers.filter(function(s){return s!==n}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:n}))},r.getObserversCount=function(){return this.observers.length},r.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},r.fetch=function(n,s){var i=this,o,c,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(n&&this.setOptions(n),!this.options.queryFn){var y=this.observers.find(function(d){return d.options.queryFn});y&&this.setOptions(y.options)}var p=Ce(this.queryKey),h=Pt(),f={queryKey:p,pageParam:void 0,meta:this.meta};Object.defineProperty(f,"signal",{enumerable:!0,get:function(){if(h)return i.abortSignalConsumed=!0,h.signal}});var v=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(f)):Promise.reject("Missing queryFn")},g={fetchOptions:s,options:this.options,queryKey:p,state:this.state,fetchFn:v,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var b;(b=this.options.behavior)==null||b.onFetch(g)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((c=g.fetchOptions)==null?void 0:c.meta)){var w;this.dispatch({type:"fetch",meta:(w=g.fetchOptions)==null?void 0:w.meta})}return this.retryer=new Ot({fn:g.fetchFn,abort:h==null||(l=h.abort)==null?void 0:l.bind(h),onSuccess:function(x){i.setData(x),i.cache.config.onSuccess==null||i.cache.config.onSuccess(x,i),i.cacheTime===0&&i.optionalRemove()},onError:function(x){Ae(x)&&x.silent||i.dispatch({type:"error",error:x}),Ae(x)||(i.cache.config.onError==null||i.cache.config.onError(x,i),Lt().error(x)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay}),this.promise=this.retryer.promise,this.promise},r.dispatch=function(n){var s=this;this.state=this.reducer(this.state,n),I.batch(function(){s.observers.forEach(function(i){i.onQueryUpdate(n)}),s.cache.notify({query:s,type:"queryUpdated",action:n})})},r.getDefaultState=function(n){var s=typeof n.initialData=="function"?n.initialData():n.initialData,i=typeof n.initialData!="undefined",o=i?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0,c=typeof s!="undefined";return{data:s,dataUpdateCount:0,dataUpdatedAt:c?o!=null?o:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:c?"success":"idle"}},r.reducer=function(n,s){var i,o;switch(s.type){case"failed":return F({},n,{fetchFailureCount:n.fetchFailureCount+1});case"pause":return F({},n,{isPaused:!0});case"continue":return F({},n,{isPaused:!1});case"fetch":return F({},n,{fetchFailureCount:0,fetchMeta:(i=s.meta)!=null?i:null,isFetching:!0,isPaused:!1},!n.dataUpdatedAt&&{error:null,status:"loading"});case"success":return F({},n,{data:s.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(o=s.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var c=s.error;return Ae(c)&&c.revert&&this.revertState?F({},this.revertState):F({},n,{error:c,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return F({},n,{isInvalidated:!0});case"setState":return F({},n,s.state);default:return n}},e}(),Dr=function(e){Fe(r,e);function r(n){var s;return s=e.call(this)||this,s.config=n||{},s.queries=[],s.queriesMap={},s}var t=r.prototype;return t.build=function(s,i,o){var c,l=i.queryKey,u=(c=i.queryHash)!=null?c:Ye(l,i),y=this.get(u);return y||(y=new Lr({cache:this,queryKey:l,queryHash:u,options:s.defaultQueryOptions(i),state:o,defaultOptions:s.getQueryDefaults(l),meta:i.meta}),this.add(y)),y},t.add=function(s){this.queriesMap[s.queryHash]||(this.queriesMap[s.queryHash]=s,this.queries.push(s),this.notify({type:"queryAdded",query:s}))},t.remove=function(s){var i=this.queriesMap[s.queryHash];i&&(s.destroy(),this.queries=this.queries.filter(function(o){return o!==s}),i===s&&delete this.queriesMap[s.queryHash],this.notify({type:"queryRemoved",query:s}))},t.clear=function(){var s=this;I.batch(function(){s.queries.forEach(function(i){s.remove(i)})})},t.get=function(s){return this.queriesMap[s]},t.getAll=function(){return this.queries},t.find=function(s,i){var o=J(s,i),c=o[0];return typeof c.exact=="undefined"&&(c.exact=!0),this.queries.find(function(l){return st(c,l)})},t.findAll=function(s,i){var o=J(s,i),c=o[0];return Object.keys(c).length>0?this.queries.filter(function(l){return st(c,l)}):this.queries},t.notify=function(s){var i=this;I.batch(function(){i.listeners.forEach(function(o){o(s)})})},t.onFocus=function(){var s=this;I.batch(function(){s.queries.forEach(function(i){i.onFocus()})})},t.onOnline=function(){var s=this;I.batch(function(){s.queries.forEach(function(i){i.onOnline()})})},r}(Te),Fr=function(){function e(t){this.options=F({},t.defaultOptions,t.options),this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.observers=[],this.state=t.state||Tr(),this.meta=t.meta}var r=e.prototype;return r.setState=function(n){this.dispatch({type:"setState",state:n})},r.addObserver=function(n){this.observers.indexOf(n)===-1&&this.observers.push(n)},r.removeObserver=function(n){this.observers=this.observers.filter(function(s){return s!==n})},r.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(_).catch(_)):Promise.resolve()},r.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},r.execute=function(){var n=this,s,i=this.state.status==="loading",o=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){n.mutationCache.config.onMutate==null||n.mutationCache.config.onMutate(n.state.variables,n)}).then(function(){return n.options.onMutate==null?void 0:n.options.onMutate(n.state.variables)}).then(function(c){c!==n.state.context&&n.dispatch({type:"loading",context:c,variables:n.state.variables})})),o.then(function(){return n.executeMutation()}).then(function(c){s=c,n.mutationCache.config.onSuccess==null||n.mutationCache.config.onSuccess(s,n.state.variables,n.state.context,n)}).then(function(){return n.options.onSuccess==null?void 0:n.options.onSuccess(s,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(s,null,n.state.variables,n.state.context)}).then(function(){return n.dispatch({type:"success",data:s}),s}).catch(function(c){return n.mutationCache.config.onError==null||n.mutationCache.config.onError(c,n.state.variables,n.state.context,n),Lt().error(c),Promise.resolve().then(function(){return n.options.onError==null?void 0:n.options.onError(c,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(void 0,c,n.state.variables,n.state.context)}).then(function(){throw n.dispatch({type:"error",error:c}),c})})},r.executeMutation=function(){var n=this,s;return this.retryer=new Ot({fn:function(){return n.options.mutationFn?n.options.mutationFn(n.state.variables):Promise.reject("No mutationFn found")},onFail:function(){n.dispatch({type:"failed"})},onPause:function(){n.dispatch({type:"pause"})},onContinue:function(){n.dispatch({type:"continue"})},retry:(s=this.options.retry)!=null?s:0,retryDelay:this.options.retryDelay}),this.retryer.promise},r.dispatch=function(n){var s=this;this.state=qr(this.state,n),I.batch(function(){s.observers.forEach(function(i){i.onMutationUpdate(n)}),s.mutationCache.notify(s)})},e}();function Tr(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function qr(e,r){switch(r.type){case"failed":return F({},e,{failureCount:e.failureCount+1});case"pause":return F({},e,{isPaused:!0});case"continue":return F({},e,{isPaused:!1});case"loading":return F({},e,{context:r.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:r.variables});case"success":return F({},e,{data:r.data,error:null,status:"success",isPaused:!1});case"error":return F({},e,{data:void 0,error:r.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return F({},e,r.state);default:return e}}var Wr=function(e){Fe(r,e);function r(n){var s;return s=e.call(this)||this,s.config=n||{},s.mutations=[],s.mutationId=0,s}var t=r.prototype;return t.build=function(s,i,o){var c=new Fr({mutationCache:this,mutationId:++this.mutationId,options:s.defaultMutationOptions(i),state:o,defaultOptions:i.mutationKey?s.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(c),c},t.add=function(s){this.mutations.push(s),this.notify(s)},t.remove=function(s){this.mutations=this.mutations.filter(function(i){return i!==s}),s.cancel(),this.notify(s)},t.clear=function(){var s=this;I.batch(function(){s.mutations.forEach(function(i){s.remove(i)})})},t.getAll=function(){return this.mutations},t.find=function(s){return typeof s.exact=="undefined"&&(s.exact=!0),this.mutations.find(function(i){return it(s,i)})},t.findAll=function(s){return this.mutations.filter(function(i){return it(s,i)})},t.notify=function(s){var i=this;I.batch(function(){i.listeners.forEach(function(o){o(s)})})},t.onFocus=function(){this.resumePausedMutations()},t.onOnline=function(){this.resumePausedMutations()},t.resumePausedMutations=function(){var s=this.mutations.filter(function(i){return i.state.isPaused});return I.batch(function(){return s.reduce(function(i,o){return i.then(function(){return o.continue().catch(_)})},Promise.resolve())})},r}(Te);function Er(){return{onFetch:function(r){r.fetchFn=function(){var t,n,s,i,o,c,l=(t=r.fetchOptions)==null||(n=t.meta)==null?void 0:n.refetchPage,u=(s=r.fetchOptions)==null||(i=s.meta)==null?void 0:i.fetchMore,y=u==null?void 0:u.pageParam,p=(u==null?void 0:u.direction)==="forward",h=(u==null?void 0:u.direction)==="backward",f=((o=r.state.data)==null?void 0:o.pages)||[],v=((c=r.state.data)==null?void 0:c.pageParams)||[],g=Pt(),b=g==null?void 0:g.signal,w=v,d=!1,x=r.options.queryFn||function(){return Promise.reject("Missing queryFn")},m=function(R,le,Q,fe){return w=fe?[le].concat(w):[].concat(w,[le]),fe?[Q].concat(R):[].concat(R,[Q])},k=function(R,le,Q,fe){if(d)return Promise.reject("Cancelled");if(typeof Q=="undefined"&&!le&&R.length)return Promise.resolve(R);var K={queryKey:r.queryKey,signal:b,pageParam:Q,meta:r.meta},re=x(K),je=Promise.resolve(re).then(function(sr){return m(R,Q,sr,fe)});if(Me(re)){var Ee=je;Ee.cancel=re.cancel}return je},q;if(!f.length)q=k([]);else if(p){var E=typeof y!="undefined",ce=E?y:lt(r.options,f);q=k(f,E,ce)}else if(h){var ee=typeof y!="undefined",te=ee?y:Hr(r.options,f);q=k(f,ee,te,!0)}else(function(){w=[];var W=typeof r.options.getNextPageParam=="undefined",R=l&&f[0]?l(f[0],0,f):!0;q=R?k([],W,v[0]):Promise.resolve(m([],v[0],f[0]));for(var le=function(K){q=q.then(function(re){var je=l&&f[K]?l(f[K],K,f):!0;if(je){var Ee=W?v[K]:lt(r.options,re);return k(re,W,Ee)}return Promise.resolve(m(re,v[K],f[K]))})},Q=1;Q<f.length;Q++)le(Q)})();var S=q.then(function(W){return{pages:W,pageParams:w}}),H=S;return H.cancel=function(){d=!0,g==null||g.abort(),Me(q)&&q.cancel()},S}}}}function lt(e,r){return e.getNextPageParam==null?void 0:e.getNextPageParam(r[r.length-1],r)}function Hr(e,r){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(r[0],r)}var Ar=function(){function e(t){t===void 0&&(t={}),this.queryCache=t.queryCache||new Dr,this.mutationCache=t.mutationCache||new Wr,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var r=e.prototype;return r.mount=function(){var n=this;this.unsubscribeFocus=Ne.subscribe(function(){Ne.isFocused()&&ke.isOnline()&&(n.mutationCache.onFocus(),n.queryCache.onFocus())}),this.unsubscribeOnline=ke.subscribe(function(){Ne.isFocused()&&ke.isOnline()&&(n.mutationCache.onOnline(),n.queryCache.onOnline())})},r.unmount=function(){var n,s;(n=this.unsubscribeFocus)==null||n.call(this),(s=this.unsubscribeOnline)==null||s.call(this)},r.isFetching=function(n,s){var i=J(n,s),o=i[0];return o.fetching=!0,this.queryCache.findAll(o).length},r.isMutating=function(n){return this.mutationCache.findAll(F({},n,{fetching:!0})).length},r.getQueryData=function(n,s){var i;return(i=this.queryCache.find(n,s))==null?void 0:i.state.data},r.getQueriesData=function(n){return this.getQueryCache().findAll(n).map(function(s){var i=s.queryKey,o=s.state,c=o.data;return[i,c]})},r.setQueryData=function(n,s,i){var o=He(n),c=this.defaultQueryOptions(o);return this.queryCache.build(this,c).setData(s,i)},r.setQueriesData=function(n,s,i){var o=this;return I.batch(function(){return o.getQueryCache().findAll(n).map(function(c){var l=c.queryKey;return[l,o.setQueryData(l,s,i)]})})},r.getQueryState=function(n,s){var i;return(i=this.queryCache.find(n,s))==null?void 0:i.state},r.removeQueries=function(n,s){var i=J(n,s),o=i[0],c=this.queryCache;I.batch(function(){c.findAll(o).forEach(function(l){c.remove(l)})})},r.resetQueries=function(n,s,i){var o=this,c=J(n,s,i),l=c[0],u=c[1],y=this.queryCache,p=F({},l,{active:!0});return I.batch(function(){return y.findAll(l).forEach(function(h){h.reset()}),o.refetchQueries(p,u)})},r.cancelQueries=function(n,s,i){var o=this,c=J(n,s,i),l=c[0],u=c[1],y=u===void 0?{}:u;typeof y.revert=="undefined"&&(y.revert=!0);var p=I.batch(function(){return o.queryCache.findAll(l).map(function(h){return h.cancel(y)})});return Promise.all(p).then(_).catch(_)},r.invalidateQueries=function(n,s,i){var o,c,l,u=this,y=J(n,s,i),p=y[0],h=y[1],f=F({},p,{active:(o=(c=p.refetchActive)!=null?c:p.active)!=null?o:!0,inactive:(l=p.refetchInactive)!=null?l:!1});return I.batch(function(){return u.queryCache.findAll(p).forEach(function(v){v.invalidate()}),u.refetchQueries(f,h)})},r.refetchQueries=function(n,s,i){var o=this,c=J(n,s,i),l=c[0],u=c[1],y=I.batch(function(){return o.queryCache.findAll(l).map(function(h){return h.fetch(void 0,F({},u,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),p=Promise.all(y).then(_);return u!=null&&u.throwOnError||(p=p.catch(_)),p},r.fetchQuery=function(n,s,i){var o=He(n,s,i),c=this.defaultQueryOptions(o);typeof c.retry=="undefined"&&(c.retry=!1);var l=this.queryCache.build(this,c);return l.isStaleByTime(c.staleTime)?l.fetch(c):Promise.resolve(l.state.data)},r.prefetchQuery=function(n,s,i){return this.fetchQuery(n,s,i).then(_).catch(_)},r.fetchInfiniteQuery=function(n,s,i){var o=He(n,s,i);return o.behavior=Er(),this.fetchQuery(o)},r.prefetchInfiniteQuery=function(n,s,i){return this.fetchInfiniteQuery(n,s,i).then(_).catch(_)},r.cancelMutations=function(){var n=this,s=I.batch(function(){return n.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(s).then(_).catch(_)},r.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},r.executeMutation=function(n){return this.mutationCache.build(this,n).execute()},r.getQueryCache=function(){return this.queryCache},r.getMutationCache=function(){return this.mutationCache},r.getDefaultOptions=function(){return this.defaultOptions},r.setDefaultOptions=function(n){this.defaultOptions=n},r.setQueryDefaults=function(n,s){var i=this.queryDefaults.find(function(o){return ae(n)===ae(o.queryKey)});i?i.defaultOptions=s:this.queryDefaults.push({queryKey:n,defaultOptions:s})},r.getQueryDefaults=function(n){var s;return n?(s=this.queryDefaults.find(function(i){return Pe(n,i.queryKey)}))==null?void 0:s.defaultOptions:void 0},r.setMutationDefaults=function(n,s){var i=this.mutationDefaults.find(function(o){return ae(n)===ae(o.mutationKey)});i?i.defaultOptions=s:this.mutationDefaults.push({mutationKey:n,defaultOptions:s})},r.getMutationDefaults=function(n){var s;return n?(s=this.mutationDefaults.find(function(i){return Pe(n,i.mutationKey)}))==null?void 0:s.defaultOptions:void 0},r.defaultQueryOptions=function(n){if(n!=null&&n._defaulted)return n;var s=F({},this.defaultOptions.queries,this.getQueryDefaults(n==null?void 0:n.queryKey),n,{_defaulted:!0});return!s.queryHash&&s.queryKey&&(s.queryHash=Ye(s.queryKey,s)),s},r.defaultQueryObserverOptions=function(n){return this.defaultQueryOptions(n)},r.defaultMutationOptions=function(n){return n!=null&&n._defaulted?n:F({},this.defaultOptions.mutations,this.getMutationDefaults(n==null?void 0:n.mutationKey),n,{_defaulted:!0})},r.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}(),Ir=pr.unstable_batchedUpdates;I.setBatchNotifyFunction(Ir);var _r=console;Sr(_r);var ut=z.createContext(void 0),$r=z.createContext(!1);function zr(e){return e&&typeof window!="undefined"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=ut),window.ReactQueryClientContext):ut}var Rr=function(r){var t=r.client,n=r.contextSharing,s=n===void 0?!1:n,i=r.children;z.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var o=zr(s);return z.createElement($r.Provider,{value:s},z.createElement(o.Provider,{value:t},i))};const Br={};function Qr(e,r){let t;try{t=e()}catch(s){return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),c=(i=t.getItem(s))!=null?i:null;return c instanceof Promise?c.then(o):o(c)},setItem:(s,i)=>t.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>t.removeItem(s)}}const ve=e=>r=>{try{const t=e(r);return t instanceof Promise?t:{then(n){return ve(n)(t)},catch(n){return this}}}catch(t){return{then(n){return this},catch(n){return ve(n)(t)}}}},Ur=(e,r)=>(t,n,s)=>{let i=O({getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,w)=>O(O({},w),b)},r),o=!1;const c=new Set,l=new Set;let u;try{u=i.getStorage()}catch(b){}if(!u)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...b)},n,s);const y=ve(i.serialize),p=()=>{const b=i.partialize(O({},n()));let w;const d=y({state:b,version:i.version}).then(x=>u.setItem(i.name,x)).catch(x=>{w=x});if(w)throw w;return d},h=s.setState;s.setState=(b,w)=>{h(b,w),p()};const f=e((...b)=>{t(...b),p()},n,s);let v;const g=()=>{var b;if(!u)return;o=!1,c.forEach(d=>d(n()));const w=((b=i.onRehydrateStorage)==null?void 0:b.call(i,n()))||void 0;return ve(u.getItem.bind(u))(i.name).then(d=>{if(d)return i.deserialize(d)}).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==i.version){if(i.migrate)return i.migrate(d.state,d.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return d.state}).then(d=>{var x;return v=i.merge(d,(x=n())!=null?x:f),t(v,!0),p()}).then(()=>{w==null||w(v,void 0),o=!0,l.forEach(d=>d(v))}).catch(d=>{w==null||w(void 0,d)})};return s.persist={setOptions:b=>{i=O(O({},i),b),b.getStorage&&(u=b.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:b=>(c.add(b),()=>{c.delete(b)}),onFinishHydration:b=>(l.add(b),()=>{l.delete(b)})},g(),v||f},Vr=(e,r)=>(t,n,s)=>{let i=O({storage:Qr(()=>localStorage),partialize:g=>g,version:0,merge:(g,b)=>O(O({},b),g)},r),o=!1;const c=new Set,l=new Set;let u=i.storage;if(!u)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...g)},n,s);const y=()=>{const g=i.partialize(O({},n()));return u.setItem(i.name,{state:g,version:i.version})},p=s.setState;s.setState=(g,b)=>{p(g,b),y()};const h=e((...g)=>{t(...g),y()},n,s);s.getInitialState=()=>h;let f;const v=()=>{var g,b;if(!u)return;o=!1,c.forEach(d=>{var x;return d((x=n())!=null?x:h)});const w=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(g=n())!=null?g:h))||void 0;return ve(u.getItem.bind(u))(i.name).then(d=>{if(d)if(typeof d.version=="number"&&d.version!==i.version){if(i.migrate)return[!0,i.migrate(d.state,d.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,d.state];return[!1,void 0]}).then(d=>{var x;const[m,k]=d;if(f=i.merge(k,(x=n())!=null?x:h),t(f,!0),m)return y()}).then(()=>{w==null||w(f,void 0),f=n(),o=!0,l.forEach(d=>d(f))}).catch(d=>{w==null||w(void 0,d)})};return s.persist={setOptions:g=>{i=O(O({},i),g),g.storage&&(u=g.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:g=>(c.add(g),()=>{c.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},i.skipHydration||v(),f||h},Yr=(e,r)=>"getStorage"in r||"serialize"in r||"deserialize"in r?((Br?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Ur(e,r)):Vr(e,r),Dt=Yr,G=be(Dt((e,r)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,initAuth:()=>{const t=r().token,n=r().user;if(t&&n)try{const s=JSON.parse(atob(t.split(".")[1])),i=Math.floor(Date.now()/1e3);return s.exp&&s.exp<i?(r().logout(),!1):(e({isAuthenticated:!0}),T.defaults.headers.common.Authorization=`Bearer ${t}`,!0)}catch(s){return console.error("Token 解析失败:",s),r().logout(),!1}return!1},login:t=>C(P,null,function*(){var n,s;e({isLoading:!0,error:null});try{const i=yield T.post("/api/auth/login",t),{user:o,token:c}=i.data;return e({user:o,token:c,isAuthenticated:!0,isLoading:!1,error:null}),T.defaults.headers.common.Authorization=`Bearer ${c}`,{success:!0,user:o}}catch(i){const o=((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.error)||"登录失败";return e({error:o,isLoading:!1}),{success:!1,error:o}}}),register:t=>C(P,null,function*(){var n,s;e({isLoading:!0,error:null});try{const i=yield T.post("/api/auth/register",t),{user:o,token:c}=i.data;return e({user:o,token:c,isAuthenticated:!0,isLoading:!1,error:null}),T.defaults.headers.common.Authorization=`Bearer ${c}`,{success:!0,user:o}}catch(i){const o=((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.error)||"注册失败";return e({error:o,isLoading:!1}),{success:!1,error:o}}}),logout:()=>{delete T.defaults.headers.common.Authorization,e({user:null,token:null,isAuthenticated:!1,error:null})},updateUser:t=>{e(n=>({user:O(O({},n.user),t)}))},updateProfile:t=>C(P,null,function*(){var n,s;e({isLoading:!0,error:null});try{const i=yield T.put("/api/auth/profile",t),{user:o}=i.data;return e({user:o,isLoading:!1,error:null}),{success:!0,user:o}}catch(i){const o=((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.error)||"更新资料失败";return e({error:o,isLoading:!1}),{success:!1,error:o}}}),changePassword:(t,n)=>C(P,null,function*(){var s,i;e({isLoading:!0,error:null});try{return yield T.put("/api/auth/password",{currentPassword:t,newPassword:n}),e({isLoading:!1,error:null}),{success:!0}}catch(o){const c=((i=(s=o.response)==null?void 0:s.data)==null?void 0:i.error)||"修改密码失败";return e({error:c,isLoading:!1}),{success:!1,error:c}}}),updateAvatar:t=>C(P,null,function*(){var n,s;e({isLoading:!0,error:null});try{const i=yield T.put("/api/auth/avatar",{avatarUrl:t}),{user:o}=i.data;return e({user:o,isLoading:!1,error:null}),{success:!0,user:o}}catch(i){const o=((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.error)||"更新头像失败";return e({error:o,isLoading:!1}),{success:!1,error:o}}}),fetchCurrentUser:()=>C(P,null,function*(){var t,n,s;e({isLoading:!0,error:null});try{const i=yield T.get("/api/auth/user"),{user:o}=i.data;return e({user:o,isLoading:!1,error:null}),{success:!0,user:o}}catch(i){const o=((n=(t=i.response)==null?void 0:t.data)==null?void 0:n.error)||"获取用户信息失败";return e({error:o,isLoading:!1}),((s=i.response)==null?void 0:s.status)===401&&r().logout(),{success:!1,error:o}}}),clearError:()=>{e({error:null})}}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})})),Ge=be(Dt((e,r)=>({theme:"light",systemPreference:null,initTheme:()=>{const t=window.matchMedia("(prefers-color-scheme: dark)").matches;e({systemPreference:t?"dark":"light"}),r().theme||e({theme:t?"dark":"light"});const s=window.matchMedia("(prefers-color-scheme: dark)"),i=o=>{const c=o.matches?"dark":"light";e({systemPreference:c}),r().theme===r().systemPreference&&r().setTheme(c)};return s.addEventListener("change",i),()=>{s.removeEventListener("change",i)}},setTheme:t=>{e({theme:t}),t==="dark"?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode");const n=document.querySelector('meta[name="theme-color"]');n&&n.setAttribute("content",t==="dark"?"#0f172a":"#4f46e5")},toggleTheme:()=>{const n=r().theme==="light"?"dark":"light";r().setTheme(n)},useSystemTheme:()=>{const t=r().systemPreference;t&&r().setTheme(t)},isDark:()=>r().theme==="dark",getThemeColors:()=>{const t=r().isDark();return{primary:"#4f46e5",primaryLight:"#6366f1",primaryDark:"#4338ca",background:t?"#0f172a":"#f8fafc",cardBg:t?"#1e293b":"#ffffff",text:t?"#f1f5f9":"#1e293b",textLight:t?"#cbd5e1":"#64748b",border:t?"#334155":"#e2e8f0"}}}),{name:"theme-storage",partialize:e=>({theme:e.theme})}));var Ft={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dt=z.createContext&&z.createContext(Ft),Gr=["attr","size","title"];function Kr(e,r){if(e==null)return{};var t=Xr(e,r),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function Xr(e,r){if(e==null)return{};var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;t[n]=e[n]}return t}function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Oe.apply(this,arguments)}function ht(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,n)}return t}function Se(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ht(Object(t),!0).forEach(function(n){Jr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ht(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Jr(e,r,t){return r=Zr(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Zr(e){var r=en(e,"string");return typeof r=="symbol"?r:r+""}function en(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Tt(e){return e&&e.map((r,t)=>z.createElement(r.tag,Se({key:t},r.attr),Tt(r.child)))}function j(e){return r=>z.createElement(tn,Oe({attr:Se({},e.attr)},r),Tt(e.child))}function tn(e){var r=t=>{var{attr:n,size:s,title:i}=e,o=Kr(e,Gr),c=s||t.size||"1em",l;return t.className&&(l=t.className),e.className&&(l=(l?l+" ":"")+e.className),z.createElement("svg",Oe({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,o,{className:l,style:Se(Se({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&z.createElement("title",null,i),e.children)};return dt!==void 0?z.createElement(dt.Consumer,null,t=>r(t)):r(Ft)}function rn(e){return j({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(e)}function qt(e){return j({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},child:[]}]})(e)}function nn(e){return j({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(e)}function an(e){return j({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"},child:[]}]})(e)}function Be(e){return j({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"},child:[]}]})(e)}function sn(e){return j({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"},child:[]}]})(e)}function on(e){return j({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"},child:[]}]})(e)}function cn(e){return j({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"},child:[]}]})(e)}function ln(e){return j({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},child:[]}]})(e)}function un(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"},child:[]}]})(e)}function dn(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"},child:[]}]})(e)}function ft(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(e)}function ye(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"},child:[]}]})(e)}function hn(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"},child:[]}]})(e)}function Wt(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(e)}function Z(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"},child:[]}]})(e)}function Ke(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},child:[]}]})(e)}function fn(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"},child:[]}]})(e)}function mn(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"},child:[]}]})(e)}function pn(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"},child:[]}]})(e)}function mt(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"},child:[]}]})(e)}function gn(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},child:[]}]})(e)}function Et(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},child:[]}]})(e)}function vn(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"},child:[]}]})(e)}function Ht(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},child:[]}]})(e)}function At(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},child:[]}]})(e)}function It(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},child:[]}]})(e)}function yn(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(e)}function Xe(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"},child:[]}]})(e)}function xn(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},child:[]}]})(e)}function bn(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"},child:[]}]})(e)}function jn(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},child:[]}]})(e)}function wn(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},child:[]}]})(e)}function _t(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},child:[]}]})(e)}function Qe(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},child:[]}]})(e)}function se(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},child:[]}]})(e)}function Ie(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"},child:[]}]})(e)}function $t(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(e)}function Nn(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},child:[]}]})(e)}function zt(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"},child:[]}]})(e)}function Je(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},child:[]}]})(e)}function Rt(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},child:[]}]})(e)}function kn(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"},child:[]}]})(e)}function Ue(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"},child:[]}]})(e)}function de(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},child:[]}]})(e)}function ge(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},child:[]}]})(e)}function Cn(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"},child:[]}]})(e)}function Pn(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 10h16M4 14h16M4 18h16"},child:[]}]})(e)}function Mn(e){return j({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"},child:[]}]})(e)}const On=()=>{const e=xe(),{user:r,isAuthenticated:t,logout:n}=G(),{theme:s,toggleTheme:i}=Ge(),[o,c]=L.useState(!1),l=()=>{n(),c(!1),e("/login")};return a.jsxs("header",{className:"header",children:[a.jsxs("div",{className:"header-container",children:[a.jsx("div",{className:"header-left",children:a.jsx("h1",{className:"header-title",children:"TG-Image"})}),a.jsxs("div",{className:"header-right",children:[a.jsxs("button",{className:"header-btn upload-btn",onClick:()=>e("/"),title:"上传图片",children:[a.jsx(Z,{}),a.jsx("span",{className:"hide-mobile",children:"上传"})]}),a.jsx("button",{className:"header-btn theme-btn",onClick:i,title:s==="dark"?"切换到亮色模式":"切换到暗色模式",children:s==="dark"?a.jsx(Rt,{}):a.jsx(_t,{})}),t?a.jsxs("div",{className:"user-menu",children:[a.jsxs("button",{className:"user-menu-btn",onClick:()=>c(!o),children:[a.jsx("div",{className:"user-avatar",children:r!=null&&r.avatarUrl?a.jsx("img",{src:r.avatarUrl,alt:r.username}):a.jsx(ge,{})}),a.jsx("span",{className:"hide-mobile",children:r==null?void 0:r.username}),a.jsx(nn,{className:"chevron-icon"})]}),a.jsx(De,{children:o&&a.jsxs(M.div,{className:"user-menu-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[a.jsxs(U,{to:"/dashboard",className:"menu-item",onClick:()=>c(!1),children:[a.jsx(se,{}),a.jsx("span",{children:"我的图片"})]}),a.jsxs(U,{to:"/favorites",className:"menu-item",onClick:()=>c(!1),children:[a.jsx(Je,{}),a.jsx("span",{children:"收藏"})]}),a.jsxs(U,{to:"/profile",className:"menu-item",onClick:()=>c(!1),children:[a.jsx(ge,{}),a.jsx("span",{children:"个人资料"})]}),a.jsxs(U,{to:"/settings",className:"menu-item",onClick:()=>c(!1),children:[a.jsx(Ke,{}),a.jsx("span",{children:"设置"})]}),a.jsx("div",{className:"menu-divider"}),a.jsxs("button",{className:"menu-item logout",onClick:l,children:[a.jsx(jn,{}),a.jsx("span",{children:"退出登录"})]})]})})]}):a.jsxs(U,{to:"/login",className:"header-btn login-btn",children:[a.jsx(bn,{}),a.jsx("span",{children:"登录"})]})]})]}),o&&a.jsx("div",{className:"user-menu-overlay",onClick:()=>c(!1)})]})},Ze=be((e,r)=>({images:[],currentImage:null,isLoading:!1,error:null,pagination:{page:1,limit:20,total:0,totalPages:0},filters:{query:"",tag:"",sortBy:"newest",viewMode:"grid"},selectedImages:new Set,isSelectionMode:!1,fetchImages:(t=1)=>C(P,null,function*(){var n,s;e({isLoading:!0,error:null});try{const{query:i,tag:o}=r().filters,{limit:c}=r().pagination,l=new URLSearchParams({page:t.toString(),limit:c.toString()});i&&l.append("q",i),o&&l.append("tag",o);const u=yield T.get(`/api/images?${l}`),{files:y,pagination:p}=u.data,h=y.map(v=>A(O({},v),{src:v.url||`/file/${v.id}`})),f=r().sortImages(h);return e({images:f,pagination:O(O({},r().pagination),p),isLoading:!1,error:null}),{success:!0,images:f}}catch(i){const o=((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.error)||"获取图片列表失败";return e({error:o,isLoading:!1}),{success:!1,error:o}}}),searchImages:t=>C(P,null,function*(){return e(n=>({filters:A(O({},n.filters),{query:t}),pagination:A(O({},n.pagination),{page:1})})),r().fetchImages(1)}),filterByTag:t=>C(P,null,function*(){return e(n=>({filters:A(O({},n.filters),{tag:t}),pagination:A(O({},n.pagination),{page:1})})),r().fetchImages(1)}),sortImages:t=>{const{sortBy:n}=r().filters,s=[...t];switch(n){case"newest":return s.sort((i,o)=>o.uploadTime-i.uploadTime);case"oldest":return s.sort((i,o)=>i.uploadTime-o.uploadTime);case"largest":return s.sort((i,o)=>o.fileSize-i.fileSize);case"smallest":return s.sort((i,o)=>i.fileSize-o.fileSize);case"name":return s.sort((i,o)=>i.fileName.localeCompare(o.fileName));default:return s}},setSortBy:t=>{e(n=>({filters:A(O({},n.filters),{sortBy:t}),images:r().sortImages(n.images)}))},setViewMode:t=>{e(n=>({filters:A(O({},n.filters),{viewMode:t})}))},deleteImage:t=>C(P,null,function*(){var n,s;e({isLoading:!0,error:null});try{return yield T.delete(`/api/images/${t}`),e(i=>({images:i.images.filter(o=>o.id!==t),isLoading:!1,error:null})),{success:!0}}catch(i){const o=((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.error)||"删除图片失败";return e({error:o,isLoading:!1}),{success:!1,error:o}}}),deleteImages:t=>C(P,null,function*(){var n,s;e({isLoading:!0,error:null});try{return yield Promise.all(t.map(i=>T.delete(`/api/images/${i}`))),e(i=>({images:i.images.filter(o=>!t.includes(o.id)),selectedImages:new Set,isSelectionMode:!1,isLoading:!1,error:null})),{success:!0}}catch(i){const o=((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.error)||"批量删除失败";return e({error:o,isLoading:!1}),{success:!1,error:o}}}),updateImage:(t,n)=>C(P,null,function*(){var s,i;e({isLoading:!0,error:null});try{const o=yield T.put(`/api/images/${t}`,n),{file:c}=o.data;return e(l=>({images:l.images.map(u=>u.id===t?O(O({},u),c):u),isLoading:!1,error:null})),{success:!0,image:c}}catch(o){const c=((i=(s=o.response)==null?void 0:s.data)==null?void 0:i.error)||"更新图片信息失败";return e({error:c,isLoading:!1}),{success:!1,error:c}}}),toggleSelectionMode:()=>{e(t=>({isSelectionMode:!t.isSelectionMode,selectedImages:new Set}))},toggleImageSelection:t=>{e(n=>{const s=new Set(n.selectedImages);return s.has(t)?s.delete(t):s.add(t),{selectedImages:s}})},toggleSelectAll:()=>{e(t=>t.selectedImages.size===t.images.length?{selectedImages:new Set}:{selectedImages:new Set(t.images.map(s=>s.id))})},clearSelection:()=>{e({selectedImages:new Set})},setCurrentImage:t=>{e({currentImage:t})},clearError:()=>{e({error:null})},reset:()=>{e({images:[],currentImage:null,selectedImages:new Set,isSelectionMode:!1,filters:{query:"",tag:"",sortBy:"newest",viewMode:"grid"},pagination:{page:1,limit:20,total:0,totalPages:0}})}})),et=be((e,r)=>({favorites:new Set,favoriteImages:[],isLoading:!1,error:null,initFavorites:()=>C(P,null,function*(){var t,n;e({isLoading:!0,error:null});try{const s=yield T.get("/api/favorites"),{images:i}=s.data,o=new Set(i.map(c=>c.id));return e({favorites:o,favoriteImages:i,isLoading:!1,error:null}),{success:!0,favorites:o}}catch(s){const i=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"加载收藏列表失败";return e({error:i,isLoading:!1}),{success:!1,error:i}}}),fetchFavorites:()=>C(P,null,function*(){return r().initFavorites()}),addFavorite:t=>C(P,null,function*(){var n,s;e(i=>({favorites:new Set([...i.favorites,t])}));try{return yield T.post(`/api/favorites/${t}`),yield r().fetchFavorites(),{success:!0}}catch(i){e(c=>{const l=new Set(c.favorites);return l.delete(t),{favorites:l}});const o=((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.error)||"添加收藏失败";return e({error:o}),{success:!1,error:o}}}),removeFavorite:t=>C(P,null,function*(){var n,s;e(i=>{const o=new Set(i.favorites);return o.delete(t),{favorites:o,favoriteImages:i.favoriteImages.filter(c=>c.id!==t)}});try{return yield T.delete(`/api/favorites/${t}`),{success:!0}}catch(i){e(c=>({favorites:new Set([...c.favorites,t])})),yield r().fetchFavorites();const o=((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.error)||"取消收藏失败";return e({error:o}),{success:!1,error:o}}}),toggleFavorite:t=>C(P,null,function*(){return r().favorites.has(t)?r().removeFavorite(t):r().addFavorite(t)}),addFavorites:t=>C(P,null,function*(){var n,s;e({isLoading:!0,error:null});try{return yield T.post("/api/favorites/batch",{action:"add",imageIds:t}),yield r().fetchFavorites(),e({isLoading:!1}),{success:!0}}catch(i){const o=((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.error)||"批量添加收藏失败";return e({error:o,isLoading:!1}),{success:!1,error:o}}}),removeFavorites:t=>C(P,null,function*(){var n,s;e({isLoading:!0,error:null});try{return yield T.post("/api/favorites/batch",{action:"remove",imageIds:t}),yield r().fetchFavorites(),e({isLoading:!1}),{success:!0}}catch(i){const o=((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.error)||"批量取消收藏失败";return e({error:o,isLoading:!1}),{success:!1,error:o}}}),isFavorite:t=>r().favorites.has(t),getFavoriteCount:()=>r().favorites.size,clearError:()=>{e({error:null})},reset:()=>{e({favorites:new Set,favoriteImages:[],error:null})}})),Sn=()=>{const e=gr(),{isAuthenticated:r}=G(),{images:t}=Ze(),{favorites:n}=et(),s=[{path:"/",icon:It,activeIcon:sn,label:"首页",public:!0},{path:"/dashboard",icon:se,activeIcon:on,label:"图库",badge:t.length,requireAuth:!0},{path:"/favorites",icon:Je,activeIcon:ln,label:"收藏",badge:n.size,requireAuth:!0},{path:"/settings",icon:Ke,activeIcon:an,label:"设置",requireAuth:!0},{path:"/help",icon:$t,activeIcon:cn,label:"帮助",public:!0}],i=c=>e.pathname===c,o=c=>c.filter(l=>l.public||l.requireAuth&&r);return a.jsx(M.nav,{className:"bottom-nav",initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4,ease:[.4,0,.2,1]},children:a.jsxs("div",{className:"bottom-nav-container",children:[a.jsx("div",{className:"bottom-nav-glow"}),a.jsx("div",{className:"bottom-nav-items",children:o(s).map(c=>{const l=i(c.path),u=l?c.activeIcon:c.icon;return a.jsxs(U,{to:c.path,className:`nav-item ${l?"active":""}`,children:[l&&a.jsx(M.div,{className:"nav-item-indicator",layoutId:"activeIndicator",transition:{type:"spring",stiffness:500,damping:30}}),a.jsxs(M.div,{className:"nav-item-icon",whileHover:{scale:1.1},whileTap:{scale:.95},children:[a.jsx(u,{}),c.badge>0&&a.jsx("span",{className:"nav-item-badge",children:c.badge>99?"99+":c.badge})]}),a.jsx("span",{className:"nav-item-label",children:c.label}),a.jsx("div",{className:"nav-item-ripple"})]},c.path)})})]})})};function Bt(e){return j({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"},child:[]}]})(e)}function Ln(e){return j({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function Dn(e){return j({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function Fn(e){return j({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(e)}const Tn=()=>{const e=new Date().getFullYear();return a.jsx("footer",{className:"footer",children:a.jsxs("div",{className:"footer-container",children:[a.jsx("div",{className:"footer-left",children:a.jsxs("p",{children:["© ",e," TG-Image. 基于"," ",a.jsxs("a",{href:"https://telegram.org",target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Fn,{className:"footer-icon-inline"}),"Telegram"]})," ","提供技术支持"]})}),a.jsxs("div",{className:"footer-right",children:[a.jsxs(U,{to:"/help",className:"footer-link",children:[a.jsx(Ln,{}),"帮助文档"]}),a.jsxs("a",{href:"https://github.com/xiyewuqiu/new-lmage",target:"_blank",rel:"noopener noreferrer",className:"footer-link",children:[a.jsx(Bt,{}),"GitHub"]})]})]})})},Qt=()=>{const[e,r]=L.useState(!1);L.useEffect(()=>{const n=()=>{window.pageYOffset>300?r(!0):r(!1)};return window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}},[]);const t=()=>{window.scrollTo({top:0,behavior:"smooth"})};return a.jsx(De,{children:e&&a.jsx(M.button,{className:"scroll-to-top",onClick:t,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},whileHover:{scale:1.1},whileTap:{scale:.9},title:"返回顶部",children:a.jsx(rn,{})})})},qn=()=>a.jsxs("div",{className:"main-layout",children:[a.jsx(Sn,{}),a.jsxs("div",{className:"main-content",children:[a.jsx(On,{}),a.jsx(M.main,{className:"page-content",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:a.jsx(wt,{})}),a.jsx(Tn,{})]}),a.jsx(Qt,{})]}),Wn=()=>{const{isAuthenticated:e}=G();return e?a.jsx(Ve,{to:"/",replace:!0}):a.jsxs("div",{className:"auth-layout",children:[a.jsxs("div",{className:"auth-background",children:[a.jsx("div",{className:"auth-bg-gradient"}),a.jsx("div",{className:"auth-bg-pattern"})]}),a.jsxs(M.div,{className:"auth-content",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3},children:[a.jsxs("div",{className:"auth-logo",children:[a.jsx("img",{src:"/images/logo.svg",alt:"TG-Image"}),a.jsx("h1",{children:"TG-Image"})]}),a.jsx(wt,{}),a.jsx("div",{className:"auth-footer",children:a.jsxs("p",{children:["© 2025 TG-Image. 基于"," ",a.jsx("a",{href:"https://telegram.org",target:"_blank",rel:"noopener noreferrer",children:"Telegram"})," ","提供技术支持"]})})]})]})},tt=T.create({baseURL:"",timeout:3e4,headers:{"Content-Type":"application/json"}});tt.interceptors.request.use(e=>{const r=localStorage.getItem("auth-storage");if(r)try{const{state:t}=JSON.parse(r),n=t==null?void 0:t.token;n&&(e.headers.Authorization=`Bearer ${n}`)}catch(t){console.error("解析 token 失败:",t)}return e.data instanceof FormData&&(e.headers["Content-Type"]="multipart/form-data"),e},e=>(console.error("请求错误:",e),Promise.reject(e)));tt.interceptors.response.use(e=>e,e=>{if(e.response){const{status:r,data:t}=e.response;switch(r){case 401:localStorage.removeItem("auth-storage"),N.error("登录已过期，请重新登录"),setTimeout(()=>{window.location.href="/login"},1e3);break;case 403:N.error("没有权限访问该资源");break;case 404:N.error("请求的资源不存在");break;case 500:N.error("服务器错误，请稍后重试");break;case 502:case 503:case 504:N.error("服务暂时不可用，请稍后重试");break;default:const n=(t==null?void 0:t.error)||(t==null?void 0:t.message)||"请求失败";N.error(n)}}else e.request?N.error("网络错误，请检查您的网络连接"):N.error(e.message||"请求失败");return Promise.reject(e)});const En=(e,r,t)=>tt.post(e,r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:n=>{}}),Hn=(e,r=3)=>C(P,null,function*(){var n,s;const t=new FormData;t.append("file",e);for(let i=0;i<r;i++)try{const o=yield En("/upload",t);return{success:!0,filename:e.name,size:e.size,type:e.type,data:o.data,uploadTime:new Date().toISOString()}}catch(o){if(i===r-1)return{success:!1,filename:e.name,size:e.size,type:e.type,error:((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||o.message||"上传失败"};yield new Promise(c=>setTimeout(c,1e3*(i+1)))}}),An=(e,r,t)=>C(P,null,function*(){const n=[],s=[];let i=0;for(const[o,c]of e.entries()){const l=c().then(u=>(i++,t&&t({completed:i,total:e.length,percent:Math.round(i/e.length*100),currentIndex:o,result:u}),u));n.push(l),s.push(l),s.length>=r&&(yield Promise.race(s),s.splice(s.findIndex(u=>u===l),1))}return Promise.all(n)}),In=(n,s,...i)=>C(P,[n,s,...i],function*(e,r,t={}){const{concurrency:o=5,retries:c=3}=t;try{const l=e.map(h=>()=>Hn(h,c)),u=yield An(l,o,r),y=u.filter(h=>h.success),p=u.filter(h=>!h.success);return{success:!0,data:u,summary:{total:u.length,success:y.length,failed:p.length}}}catch(l){return{success:!1,error:l.message||"批量上传失败",data:[]}}}),_n=(e,r={})=>{const{maxSize:t=10*1024*1024,allowedTypes:n=["image/*"]}=r,s=[];return e.size>t&&s.push(`文件大小不能超过 ${(t/1024/1024).toFixed(0)}MB`),n.some(o=>{if(o.includes("*")){const[c]=o.split("/");return e.type.startsWith(c)}return e.type===o})||s.push("不支持的文件类型"),{isValid:s.length===0,errors:s}};function $n(e){return j({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22.27 19.385H1.73A1.73 1.73 0 010 17.655V6.345a1.73 1.73 0 011.73-1.73h20.54A1.73 1.73 0 0124 6.345v11.308a1.73 1.73 0 01-1.73 1.731zM5.769 15.923v-4.5l2.308 2.885 2.307-2.885v4.5h2.308V8.078h-2.308l-2.307 2.885-2.308-2.885H3.46v7.847zM21.232 12h-2.309V8.077h-2.307V12h-2.308l3.461 4.039z"},child:[]}]})(e)}const zn=()=>{const[e,r]=L.useState(!1),[t,n]=L.useState([]),[s,i]=L.useState({completed:0,total:0,percent:0}),o=d=>C(P,null,function*(){const x=[];for(const m of d){const k=_n(m,{maxSize:10485760,allowedTypes:["image/*"]});if(!k.isValid){N.error(`${m.name}: ${k.errors.join(", ")}`);continue}x.push(m)}if(x.length!==0){r(!0),n([]),i({completed:0,total:x.length,percent:0});try{const m=yield In(x,k=>{i(k)},{concurrency:5,retries:3});m.success?(n(m.data),N.success(`成功上传 ${m.summary.success}/${m.summary.total} 张图片`)):N.error(m.error)}catch(m){N.error("上传失败，请重试")}finally{r(!1)}}}),{getRootProps:c,getInputProps:l,isDragActive:u}=hr({onDrop:o,accept:{"image/*":[".png",".jpg",".jpeg",".gif",".webp",".svg"]},multiple:!0,disabled:e}),y=d=>{navigator.clipboard.writeText(d),N.success("已复制到剪贴板")},p=()=>{const d=t.filter(E=>E.success),x={exportTime:new Date().toISOString(),totalCount:t.length,successCount:d.length,images:d.map(E=>({filename:E.filename,url:window.location.origin+E.data.src,origin:E.data.src,size:E.size,type:E.type,uploadTime:E.uploadTime}))},m=new Blob([JSON.stringify(x,null,2)],{type:"application/json"}),k=URL.createObjectURL(m),q=document.createElement("a");q.href=k,q.download=`images-${Date.now()}.json`,q.click(),URL.revokeObjectURL(k),N.success("元数据已导出")},h=()=>{const d=t.filter(x=>x.success).map(x=>window.location.origin+x.data.src).join(`
`);navigator.clipboard.writeText(d),N.success("已复制所有图片链接")},f=()=>{const d=t.filter(x=>x.success).map(x=>`![${x.filename}](${window.location.origin}${x.data.src})`).join(`
`);navigator.clipboard.writeText(d),N.success("已复制 Markdown 列表")},v=()=>{n([]),i({completed:0,total:0,percent:0})},g=d=>C(P,null,function*(){const x=t[d];!x||x.success||N.loading("重新上传中...")}),b=t.filter(d=>d.success).length,w=t.filter(d=>!d.success).length;return a.jsx(M.div,{className:"home-page",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:a.jsxs("section",{className:"upload-section",children:[a.jsxs("div",{className:"upload-header",children:[a.jsx("h1",{className:"upload-title",children:"上传图片"}),a.jsx("p",{className:"upload-subtitle",children:"简单、快速、安全的图片托管服务"})]}),t.length===0&&!e&&a.jsxs(M.div,A(O({},c()),{className:`dropzone ${u?"drag-active":""}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[a.jsx("input",O({},l())),a.jsx("div",{className:"dropzone-icon",children:a.jsx(Z,{})}),a.jsx("p",{className:"dropzone-text",children:u?"释放以上传文件":"拖放图片到这里或点击选择"}),a.jsxs("div",{className:"dropzone-hint",children:[a.jsxs("span",{className:"dropzone-hint-item",children:[a.jsx(se,{}),"支持多种图片格式"]}),a.jsxs("span",{className:"dropzone-hint-item",children:[a.jsx(mt,{}),"支持批量上传"]}),a.jsxs("span",{className:"dropzone-hint-item",children:[a.jsx(hn,{}),"最多并发 5 个"]})]})]})),e&&a.jsxs(M.div,{className:"upload-progress",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[a.jsxs("div",{className:"progress-info",children:[a.jsxs("span",{className:"progress-text",children:["上传中... ",s.completed,"/",s.total]}),a.jsxs("span",{className:"progress-percent",children:[s.percent,"%"]})]}),a.jsx("div",{className:"progress-bar-container",children:a.jsx(M.div,{className:"progress-bar",initial:{width:0},animate:{width:`${s.percent}%`},transition:{duration:.3}})})]}),t.length>0&&!e&&a.jsxs(M.div,{className:"upload-result-batch",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[a.jsxs("div",{className:"result-header",children:[a.jsxs("div",{className:"result-summary",children:[a.jsx(ye,{className:"success-icon"}),a.jsx("h3",{children:"上传完成！"}),a.jsxs("p",{children:["成功 ",b," 张",w>0&&` · 失败 ${w} 张`]})]}),a.jsxs("div",{className:"result-actions",children:[a.jsxs("button",{className:"btn btn-ghost",onClick:p,title:"导出元数据",children:[a.jsx(vn,{}),"导出 JSON"]}),a.jsxs("button",{className:"btn btn-ghost",onClick:h,title:"复制所有链接",children:[a.jsx(Xe,{}),"复制链接"]}),a.jsxs("button",{className:"btn btn-ghost",onClick:f,title:"复制 Markdown",children:[a.jsx($n,{}),"复制 MD"]})]})]}),a.jsx("div",{className:"result-list",children:a.jsx(De,{children:t.map((d,x)=>a.jsx(M.div,{className:`result-item ${d.success?"success":"error"}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:x*.05},children:d.success?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:window.location.origin+d.data.src,alt:d.filename,className:"result-thumbnail"}),a.jsxs("div",{className:"result-info",children:[a.jsx("div",{className:"result-filename",children:d.filename}),a.jsxs("div",{className:"result-url-group",children:[a.jsx("input",{type:"text",value:window.location.origin+d.data.src,readOnly:!0,onClick:m=>m.target.select(),className:"result-url-input"}),a.jsx("button",{className:"btn-icon",onClick:()=>y(window.location.origin+d.data.src),title:"复制链接",children:a.jsx(mt,{})})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"error-icon-wrapper",children:a.jsx(Mn,{})}),a.jsxs("div",{className:"result-info",children:[a.jsx("div",{className:"result-filename",children:d.filename}),a.jsx("div",{className:"error-message",children:d.error})]}),a.jsx("button",{className:"btn-icon retry-btn",onClick:()=>g(x),title:"重试",children:a.jsx(Nn,{})})]})},x))})}),a.jsx("div",{className:"result-footer",children:a.jsxs("button",{className:"btn btn-primary",onClick:v,children:[a.jsx(Z,{}),"继续上传"]})})]})]})})};function B(e){const r=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&r==="[object Date]"?new e.constructor(+e):typeof e=="number"||r==="[object Number]"||typeof e=="string"||r==="[object String]"?new Date(e):new Date(NaN)}function ie(e,r){return e instanceof Date?new e.constructor(r):new Date(r)}const Ut=6048e5,Rn=864e5,Vt=6e4,Yt=36e5;let Bn={};function We(){return Bn}function oe(e,r){var c,l,u,y,p,h,f,v;const t=We(),n=(v=(f=(y=(u=r==null?void 0:r.weekStartsOn)!=null?u:(l=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)!=null?y:t.weekStartsOn)!=null?f:(h=(p=t.locale)==null?void 0:p.options)==null?void 0:h.weekStartsOn)!=null?v:0,s=B(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Le(e){return oe(e,{weekStartsOn:1})}function Gt(e){const r=B(e),t=r.getFullYear(),n=ie(e,0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);const s=Le(n),i=ie(e,0);i.setFullYear(t,0,4),i.setHours(0,0,0,0);const o=Le(i);return r.getTime()>=s.getTime()?t+1:r.getTime()>=o.getTime()?t:t-1}function pt(e){const r=B(e);return r.setHours(0,0,0,0),r}function gt(e){const r=B(e),t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),+e-+t}function Qn(e,r){const t=pt(e),n=pt(r),s=+t-gt(t),i=+n-gt(n);return Math.round((s-i)/Rn)}function Un(e){const r=Gt(e),t=ie(e,0);return t.setFullYear(r,0,4),t.setHours(0,0,0,0),Le(t)}function Vn(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Yn(e){if(!Vn(e)&&typeof e!="number")return!1;const r=B(e);return!isNaN(Number(r))}function Gn(e){const r=B(e),t=ie(e,0);return t.setFullYear(r.getFullYear(),0,1),t.setHours(0,0,0,0),t}const Kn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Xn=(e,r,t)=>{let n;const s=Kn[e];return typeof s=="string"?n=s:r===1?n=s.one:n=s.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function he(e){return(r={})=>{const t=r.width?String(r.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const Jn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Zn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ea={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ta={date:he({formats:Jn,defaultWidth:"full"}),time:he({formats:Zn,defaultWidth:"full"}),dateTime:he({formats:ea,defaultWidth:"full"})},ra={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},na=(e,r,t,n)=>ra[e];function V(e){return(r,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,c=t!=null&&t.width?String(t.width):o;s=e.formattingValues[c]||e.formattingValues[o]}else{const o=e.defaultWidth,c=t!=null&&t.width?String(t.width):e.defaultWidth;s=e.values[c]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(r):r;return s[i]}}const aa={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sa={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ia={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oa={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ca={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},la={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ua=(e,r)=>{const t=Number(e),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},da={ordinalNumber:ua,era:V({values:aa,defaultWidth:"wide"}),quarter:V({values:sa,defaultWidth:"wide",argumentCallback:e=>e-1}),month:V({values:ia,defaultWidth:"wide"}),day:V({values:oa,defaultWidth:"wide"}),dayPeriod:V({values:ca,defaultWidth:"wide",formattingValues:la,defaultFormattingWidth:"wide"})};function Y(e){return(r,t={})=>{const n=t.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=r.match(s);if(!i)return null;const o=i[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?fa(c,p=>p.test(o)):ha(c,p=>p.test(o));let u;u=e.valueCallback?e.valueCallback(l):l,u=t.valueCallback?t.valueCallback(u):u;const y=r.slice(o.length);return{value:u,rest:y}}}function ha(e,r){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&r(e[t]))return t}function fa(e,r){for(let t=0;t<e.length;t++)if(r(e[t]))return t}function Kt(e){return(r,t={})=>{const n=r.match(e.matchPattern);if(!n)return null;const s=n[0],i=r.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;const c=r.slice(s.length);return{value:o,rest:c}}}const ma=/^(\d+)(th|st|nd|rd)?/i,pa=/\d+/i,ga={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},va={any:[/^b/i,/^(a|c)/i]},ya={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xa={any:[/1/i,/2/i,/3/i,/4/i]},ba={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ja={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wa={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Na={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ka={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ca={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Pa={ordinalNumber:Kt({matchPattern:ma,parsePattern:pa,valueCallback:e=>parseInt(e,10)}),era:Y({matchPatterns:ga,defaultMatchWidth:"wide",parsePatterns:va,defaultParseWidth:"any"}),quarter:Y({matchPatterns:ya,defaultMatchWidth:"wide",parsePatterns:xa,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Y({matchPatterns:ba,defaultMatchWidth:"wide",parsePatterns:ja,defaultParseWidth:"any"}),day:Y({matchPatterns:wa,defaultMatchWidth:"wide",parsePatterns:Na,defaultParseWidth:"any"}),dayPeriod:Y({matchPatterns:ka,defaultMatchWidth:"any",parsePatterns:Ca,defaultParseWidth:"any"})},Ma={code:"en-US",formatDistance:Xn,formatLong:ta,formatRelative:na,localize:da,match:Pa,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Oa(e){const r=B(e);return Qn(r,Gn(r))+1}function Sa(e){const r=B(e),t=+Le(r)-+Un(r);return Math.round(t/Ut)+1}function Xt(e,r){var y,p,h,f,v,g,b,w;const t=B(e),n=t.getFullYear(),s=We(),i=(w=(b=(f=(h=r==null?void 0:r.firstWeekContainsDate)!=null?h:(p=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:p.firstWeekContainsDate)!=null?f:s.firstWeekContainsDate)!=null?b:(g=(v=s.locale)==null?void 0:v.options)==null?void 0:g.firstWeekContainsDate)!=null?w:1,o=ie(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const c=oe(o,r),l=ie(e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const u=oe(l,r);return t.getTime()>=c.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}function La(e,r){var c,l,u,y,p,h,f,v;const t=We(),n=(v=(f=(y=(u=r==null?void 0:r.firstWeekContainsDate)!=null?u:(l=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:l.firstWeekContainsDate)!=null?y:t.firstWeekContainsDate)!=null?f:(h=(p=t.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)!=null?v:1,s=Xt(e,r),i=ie(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),oe(i,r)}function Da(e,r){const t=B(e),n=+oe(t,r)-+La(t,r);return Math.round(n/Ut)+1}function D(e,r){const t=e<0?"-":"",n=Math.abs(e).toString().padStart(r,"0");return t+n}const X={y(e,r){const t=e.getFullYear(),n=t>0?t:1-t;return D(r==="yy"?n%100:n,r.length)},M(e,r){const t=e.getMonth();return r==="M"?String(t+1):D(t+1,2)},d(e,r){return D(e.getDate(),r.length)},a(e,r){const t=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,r){return D(e.getHours()%12||12,r.length)},H(e,r){return D(e.getHours(),r.length)},m(e,r){return D(e.getMinutes(),r.length)},s(e,r){return D(e.getSeconds(),r.length)},S(e,r){const t=r.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,t-3));return D(s,r.length)}},ue={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vt={G:function(e,r,t){const n=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(e,r,t){if(r==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return t.ordinalNumber(s,{unit:"year"})}return X.y(e,r)},Y:function(e,r,t,n){const s=Xt(e,n),i=s>0?s:1-s;if(r==="YY"){const o=i%100;return D(o,2)}return r==="Yo"?t.ordinalNumber(i,{unit:"year"}):D(i,r.length)},R:function(e,r){const t=Gt(e);return D(t,r.length)},u:function(e,r){const t=e.getFullYear();return D(t,r.length)},Q:function(e,r,t){const n=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(n);case"QQ":return D(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,r,t){const n=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(n);case"qq":return D(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,r,t){const n=e.getMonth();switch(r){case"M":case"MM":return X.M(e,r);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(e,r,t){const n=e.getMonth();switch(r){case"L":return String(n+1);case"LL":return D(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(e,r,t,n){const s=Da(e,n);return r==="wo"?t.ordinalNumber(s,{unit:"week"}):D(s,r.length)},I:function(e,r,t){const n=Sa(e);return r==="Io"?t.ordinalNumber(n,{unit:"week"}):D(n,r.length)},d:function(e,r,t){return r==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):X.d(e,r)},D:function(e,r,t){const n=Oa(e);return r==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):D(n,r.length)},E:function(e,r,t){const n=e.getDay();switch(r){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(e,r,t,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return D(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(e,r,t,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return D(i,r.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(e,r,t){const n=e.getDay(),s=n===0?7:n;switch(r){case"i":return String(s);case"ii":return D(s,r.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(e,r,t){const s=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,r,t){const n=e.getHours();let s;switch(n===12?s=ue.noon:n===0?s=ue.midnight:s=n/12>=1?"pm":"am",r){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,r,t){const n=e.getHours();let s;switch(n>=17?s=ue.evening:n>=12?s=ue.afternoon:n>=4?s=ue.morning:s=ue.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,r,t){if(r==="ho"){let n=e.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return X.h(e,r)},H:function(e,r,t){return r==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):X.H(e,r)},K:function(e,r,t){const n=e.getHours()%12;return r==="Ko"?t.ordinalNumber(n,{unit:"hour"}):D(n,r.length)},k:function(e,r,t){let n=e.getHours();return n===0&&(n=24),r==="ko"?t.ordinalNumber(n,{unit:"hour"}):D(n,r.length)},m:function(e,r,t){return r==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):X.m(e,r)},s:function(e,r,t){return r==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):X.s(e,r)},S:function(e,r){return X.S(e,r)},X:function(e,r,t){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(r){case"X":return xt(n);case"XXXX":case"XX":return ne(n);case"XXXXX":case"XXX":default:return ne(n,":")}},x:function(e,r,t){const n=e.getTimezoneOffset();switch(r){case"x":return xt(n);case"xxxx":case"xx":return ne(n);case"xxxxx":case"xxx":default:return ne(n,":")}},O:function(e,r,t){const n=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+yt(n,":");case"OOOO":default:return"GMT"+ne(n,":")}},z:function(e,r,t){const n=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+yt(n,":");case"zzzz":default:return"GMT"+ne(n,":")}},t:function(e,r,t){const n=Math.trunc(e.getTime()/1e3);return D(n,r.length)},T:function(e,r,t){const n=e.getTime();return D(n,r.length)}};function yt(e,r=""){const t=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?t+String(s):t+String(s)+r+D(i,2)}function xt(e,r){return e%60===0?(e>0?"-":"+")+D(Math.abs(e)/60,2):ne(e,r)}function ne(e,r=""){const t=e>0?"-":"+",n=Math.abs(e),s=D(Math.trunc(n/60),2),i=D(n%60,2);return t+s+r+i}const bt=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Jt=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Fa=(e,r)=>{const t=e.match(/(P+)(p+)?/)||[],n=t[1],s=t[2];if(!s)return bt(e,r);let i;switch(n){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",bt(n,r)).replace("{{time}}",Jt(s,r))},Ta={p:Jt,P:Fa},qa=/^D+$/,Wa=/^Y+$/,Ea=["D","DD","YY","YYYY"];function Ha(e){return qa.test(e)}function Aa(e){return Wa.test(e)}function Ia(e,r,t){const n=_a(e,r,t);if(console.warn(n),Ea.includes(e))throw new RangeError(n)}function _a(e,r,t){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $a=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,za=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ra=/^'([^]*?)'?$/,Ba=/''/g,Qa=/[a-zA-Z]/;function Ua(e,r,t){var y,p,h,f,v,g,b,w,d,x,m,k,q,E,ce,ee,te,S;const n=We(),s=(p=(y=t==null?void 0:t.locale)!=null?y:n.locale)!=null?p:Ma,i=(x=(d=(g=(v=t==null?void 0:t.firstWeekContainsDate)!=null?v:(f=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)!=null?g:n.firstWeekContainsDate)!=null?d:(w=(b=n.locale)==null?void 0:b.options)==null?void 0:w.firstWeekContainsDate)!=null?x:1,o=(S=(te=(E=(q=t==null?void 0:t.weekStartsOn)!=null?q:(k=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:k.weekStartsOn)!=null?E:n.weekStartsOn)!=null?te:(ee=(ce=n.locale)==null?void 0:ce.options)==null?void 0:ee.weekStartsOn)!=null?S:0,c=B(e);if(!Yn(c))throw new RangeError("Invalid time value");let l=r.match(za).map(H=>{const W=H[0];if(W==="p"||W==="P"){const R=Ta[W];return R(H,s.formatLong)}return H}).join("").match($a).map(H=>{if(H==="''")return{isToken:!1,value:"'"};const W=H[0];if(W==="'")return{isToken:!1,value:Va(H)};if(vt[W])return{isToken:!0,value:H};if(W.match(Qa))throw new RangeError("Format string contains an unescaped latin alphabet character `"+W+"`");return{isToken:!1,value:H}});s.localize.preprocessor&&(l=s.localize.preprocessor(c,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(H=>{if(!H.isToken)return H.value;const W=H.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&Aa(W)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&Ha(W))&&Ia(W,r,String(e));const R=vt[W[0]];return R(c,W,s.localize,u)}).join("")}function Va(e){const r=e.match(Ra);return r?r[1].replace(Ba,"'"):e}function Ya(e,r,t){const n=oe(e,t),s=oe(r,t);return+n==+s}function Ga(e,r){const n=Za(e);let s;if(n.date){const l=es(n.date,2);s=ts(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,c;if(n.time&&(o=rs(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(c=ns(n.timezone),isNaN(c))return new Date(NaN)}else{const l=new Date(i+o),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(i+o+c)}const we={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ka=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Xa=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ja=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Za(e){const r={},t=e.split(we.dateTimeDelimiter);let n;if(t.length>2)return r;if(/:/.test(t[0])?n=t[0]:(r.date=t[0],n=t[1],we.timeZoneDelimiter.test(r.date)&&(r.date=e.split(we.timeZoneDelimiter)[0],n=e.substr(r.date.length,e.length))),n){const s=we.timezone.exec(n);s?(r.time=n.replace(s[1],""),r.timezone=s[1]):r.time=n}return r}function es(e,r){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),n=e.match(t);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function ts(e,r){if(r===null)return new Date(NaN);const t=e.match(Ka);if(!t)return new Date(NaN);const n=!!t[4],s=me(t[1]),i=me(t[2])-1,o=me(t[3]),c=me(t[4]),l=me(t[5])-1;if(n)return cs(r,c,l)?as(r,c,l):new Date(NaN);{const u=new Date(0);return!is(r,i,o)||!os(r,s)?new Date(NaN):(u.setUTCFullYear(r,i,Math.max(s,o)),u)}}function me(e){return e?parseInt(e):1}function rs(e){const r=e.match(Xa);if(!r)return NaN;const t=_e(r[1]),n=_e(r[2]),s=_e(r[3]);return ls(t,n,s)?t*Yt+n*Vt+s*1e3:NaN}function _e(e){return e&&parseFloat(e.replace(",","."))||0}function ns(e){if(e==="Z")return 0;const r=e.match(Ja);if(!r)return 0;const t=r[1]==="+"?-1:1,n=parseInt(r[2]),s=r[3]&&parseInt(r[3])||0;return us(n,s)?t*(n*Yt+s*Vt):NaN}function as(e,r,t){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=(r-1)*7+t+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const ss=[31,null,31,30,31,30,31,31,30,31,30,31];function Zt(e){return e%400===0||e%4===0&&e%100!==0}function is(e,r,t){return r>=0&&r<=11&&t>=1&&t<=(ss[r]||(Zt(e)?29:28))}function os(e,r){return r>=1&&r<=(Zt(e)?366:365)}function cs(e,r,t){return r>=1&&r<=53&&t>=0&&t<=6}function ls(e,r,t){return e===24?r===0&&t===0:t>=0&&t<60&&r>=0&&r<60&&e>=0&&e<25}function us(e,r){return r>=0&&r<=59}const ds={lessThanXSeconds:{one:"不到 1 秒",other:"不到 {{count}} 秒"},xSeconds:{one:"1 秒",other:"{{count}} 秒"},halfAMinute:"半分钟",lessThanXMinutes:{one:"不到 1 分钟",other:"不到 {{count}} 分钟"},xMinutes:{one:"1 分钟",other:"{{count}} 分钟"},xHours:{one:"1 小时",other:"{{count}} 小时"},aboutXHours:{one:"大约 1 小时",other:"大约 {{count}} 小时"},xDays:{one:"1 天",other:"{{count}} 天"},aboutXWeeks:{one:"大约 1 个星期",other:"大约 {{count}} 个星期"},xWeeks:{one:"1 个星期",other:"{{count}} 个星期"},aboutXMonths:{one:"大约 1 个月",other:"大约 {{count}} 个月"},xMonths:{one:"1 个月",other:"{{count}} 个月"},aboutXYears:{one:"大约 1 年",other:"大约 {{count}} 年"},xYears:{one:"1 年",other:"{{count}} 年"},overXYears:{one:"超过 1 年",other:"超过 {{count}} 年"},almostXYears:{one:"将近 1 年",other:"将近 {{count}} 年"}},hs=(e,r,t)=>{let n;const s=ds[e];return typeof s=="string"?n=s:r===1?n=s.one:n=s.other.replace("{{count}}",String(r)),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?n+"内":n+"前":n},fs={full:"y'年'M'月'd'日' EEEE",long:"y'年'M'月'd'日'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},ms={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},ps={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},gs={date:he({formats:fs,defaultWidth:"full"}),time:he({formats:ms,defaultWidth:"full"}),dateTime:he({formats:ps,defaultWidth:"full"})};function jt(e,r,t){const n="eeee p";return Ya(e,r,t)?n:e.getTime()>r.getTime()?"'下个'"+n:"'上个'"+n}const vs={lastWeek:jt,yesterday:"'昨天' p",today:"'今天' p",tomorrow:"'明天' p",nextWeek:jt,other:"PP p"},ys=(e,r,t,n)=>{const s=vs[e];return typeof s=="function"?s(r,t,n):s},xs={narrow:["前","公元"],abbreviated:["前","公元"],wide:["公元前","公元"]},bs={narrow:["1","2","3","4"],abbreviated:["第一季","第二季","第三季","第四季"],wide:["第一季度","第二季度","第三季度","第四季度"]},js={narrow:["一","二","三","四","五","六","七","八","九","十","十一","十二"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},ws={narrow:["日","一","二","三","四","五","六"],short:["日","一","二","三","四","五","六"],abbreviated:["周日","周一","周二","周三","周四","周五","周六"],wide:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},Ns={narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},ks={narrow:{am:"上",pm:"下",midnight:"凌晨",noon:"午",morning:"早",afternoon:"下午",evening:"晚",night:"夜"},abbreviated:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"},wide:{am:"上午",pm:"下午",midnight:"凌晨",noon:"中午",morning:"早晨",afternoon:"中午",evening:"晚上",night:"夜间"}},Cs=(e,r)=>{const t=Number(e);switch(r==null?void 0:r.unit){case"date":return t.toString()+"日";case"hour":return t.toString()+"时";case"minute":return t.toString()+"分";case"second":return t.toString()+"秒";default:return"第 "+t.toString()}},Ps={ordinalNumber:Cs,era:V({values:xs,defaultWidth:"wide"}),quarter:V({values:bs,defaultWidth:"wide",argumentCallback:e=>e-1}),month:V({values:js,defaultWidth:"wide"}),day:V({values:ws,defaultWidth:"wide"}),dayPeriod:V({values:Ns,defaultWidth:"wide",formattingValues:ks,defaultFormattingWidth:"wide"})},Ms=/^(第\s*)?\d+(日|时|分|秒)?/i,Os=/\d+/i,Ss={narrow:/^(前)/i,abbreviated:/^(前)/i,wide:/^(公元前|公元)/i},Ls={any:[/^(前)/i,/^(公元)/i]},Ds={narrow:/^[1234]/i,abbreviated:/^第[一二三四]刻/i,wide:/^第[一二三四]刻钟/i},Fs={any:[/(1|一)/i,/(2|二)/i,/(3|三)/i,/(4|四)/i]},Ts={narrow:/^(一|二|三|四|五|六|七|八|九|十[二一])/i,abbreviated:/^(一|二|三|四|五|六|七|八|九|十[二一]|\d|1[12])月/i,wide:/^(一|二|三|四|五|六|七|八|九|十[二一])月/i},qs={narrow:[/^一/i,/^二/i,/^三/i,/^四/i,/^五/i,/^六/i,/^七/i,/^八/i,/^九/i,/^十(?!(一|二))/i,/^十一/i,/^十二/i],any:[/^一|1/i,/^二|2/i,/^三|3/i,/^四|4/i,/^五|5/i,/^六|6/i,/^七|7/i,/^八|8/i,/^九|9/i,/^十(?!(一|二))|10/i,/^十一|11/i,/^十二|12/i]},Ws={narrow:/^[一二三四五六日]/i,short:/^[一二三四五六日]/i,abbreviated:/^周[一二三四五六日]/i,wide:/^星期[一二三四五六日]/i},Es={any:[/日/i,/一/i,/二/i,/三/i,/四/i,/五/i,/六/i]},Hs={any:/^(上午?|下午?|午夜|[中正]午|早上?|下午|晚上?|凌晨|)/i},As={any:{am:/^上午?/i,pm:/^下午?/i,midnight:/^午夜/i,noon:/^[中正]午/i,morning:/^早上/i,afternoon:/^下午/i,evening:/^晚上?/i,night:/^凌晨/i}},Is={ordinalNumber:Kt({matchPattern:Ms,parsePattern:Os,valueCallback:e=>parseInt(e,10)}),era:Y({matchPatterns:Ss,defaultMatchWidth:"wide",parsePatterns:Ls,defaultParseWidth:"any"}),quarter:Y({matchPatterns:Ds,defaultMatchWidth:"wide",parsePatterns:Fs,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Y({matchPatterns:Ts,defaultMatchWidth:"wide",parsePatterns:qs,defaultParseWidth:"any"}),day:Y({matchPatterns:Ws,defaultMatchWidth:"wide",parsePatterns:Es,defaultParseWidth:"any"}),dayPeriod:Y({matchPatterns:Hs,defaultMatchWidth:"any",parsePatterns:As,defaultParseWidth:"any"})},_s={code:"zh-CN",formatDistance:hs,formatLong:gs,formatRelative:ys,localize:Ps,match:Is,options:{weekStartsOn:1,firstWeekContainsDate:4}},er=(e,r=1)=>{if(e===0)return"0 B";if(!e||e<0)return"-";const t=1024,n=r<0?0:r,s=["B","KB","MB","GB","TB","PB"],i=Math.floor(Math.log(e)/Math.log(t));return`${parseFloat((e/Math.pow(t,i)).toFixed(n))} ${s[i]}`},tr=(e,r="yyyy-MM-dd HH:mm:ss")=>{if(!e)return"-";try{const t=typeof e=="string"?Ga(e):new Date(e);return Ua(t,r,{locale:_s})}catch(t){return console.error("日期格式化错误:",t),"-"}},$s=()=>{const e=xe(),{user:r}=G(),{images:t,isLoading:n,filters:s,selectedImages:i,isSelectionMode:o,fetchImages:c,deleteImage:l,deleteImages:u,setViewMode:y,setSortBy:p,toggleSelectionMode:h,toggleImageSelection:f,toggleSelectAll:v,clearSelection:g}=Ze(),{favorites:b,toggleFavorite:w}=et(),[d,x]=L.useState(!1),[m,k]=L.useState(null);L.useEffect(()=>{c()},[c]);const q=S=>{k(S),x(!0)},E=()=>C(P,null,function*(){if(!m)return;const S=yield l(m.id);S.success?(N.success("图片已删除"),x(!1),k(null)):N.error(S.error)}),ce=()=>C(P,null,function*(){if(i.size===0)return;if(window.confirm(`确定要删除选中的 ${i.size} 张图片吗？`)){const H=yield u(Array.from(i));H.success?N.success(`已删除 ${i.size} 张图片`):N.error(H.error)}}),ee=S=>{const H=window.location.origin+S.src;navigator.clipboard.writeText(H),N.success("链接已复制")},te=S=>b.has(S);return a.jsxs(M.div,{className:"dashboard-page",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[a.jsxs("div",{className:"dashboard-header",children:[a.jsxs("div",{className:"header-left",children:[a.jsxs("h1",{className:"page-title",children:[a.jsx(se,{}),"我的图片"]}),a.jsxs("p",{className:"page-subtitle",children:["共 ",t.length," 张图片",o&&` · 已选择 ${i.size} 张`]})]}),a.jsx("div",{className:"header-right",children:a.jsxs("button",{className:"btn btn-outline",onClick:()=>e("/"),children:[a.jsx(Z,{}),"上传图片"]})})]}),a.jsxs("div",{className:"dashboard-toolbar",children:[a.jsxs("div",{className:"toolbar-left",children:[a.jsxs("div",{className:"view-switcher",children:[a.jsx("button",{className:`view-btn ${s.viewMode==="grid"?"active":""}`,onClick:()=>y("grid"),title:"网格视图",children:a.jsx(Cn,{})}),a.jsx("button",{className:`view-btn ${s.viewMode==="list"?"active":""}`,onClick:()=>y("list"),title:"列表视图",children:a.jsx(Pn,{})})]}),a.jsxs("select",{className:"sort-select",value:s.sortBy,onChange:S=>p(S.target.value),children:[a.jsx("option",{value:"newest",children:"最新上传"}),a.jsx("option",{value:"oldest",children:"最早上传"}),a.jsx("option",{value:"largest",children:"文件最大"}),a.jsx("option",{value:"smallest",children:"文件最小"}),a.jsx("option",{value:"name",children:"文件名"})]})]}),a.jsx("div",{className:"toolbar-right",children:o?a.jsxs(a.Fragment,{children:[a.jsxs("button",{className:"btn btn-sm",onClick:v,children:[a.jsx(fn,{}),"全选"]}),a.jsxs("button",{className:"btn btn-sm btn-danger",onClick:ce,disabled:i.size===0,children:[a.jsx(de,{}),"删除选中"]}),a.jsx("button",{className:"btn btn-sm btn-outline",onClick:()=>{h(),g()},children:"取消"})]}):a.jsxs("button",{className:"btn btn-sm btn-outline",onClick:h,children:[a.jsx(ft,{}),"批量操作"]})})]}),n?a.jsxs("div",{className:"loading-container",children:[a.jsx("div",{className:"spinner"}),a.jsx("p",{children:"加载中..."})]}):t.length===0?a.jsxs("div",{className:"empty-state",children:[a.jsx(se,{className:"empty-icon"}),a.jsx("h3",{children:"还没有上传图片"}),a.jsx("p",{children:"点击上传按钮开始使用"}),a.jsxs("button",{className:"btn btn-primary",onClick:()=>e("/"),children:[a.jsx(Z,{}),"立即上传"]})]}):a.jsx("div",{className:`image-container ${s.viewMode}`,children:t.map(S=>a.jsxs(M.div,{className:`image-card ${i.has(S.id)?"selected":""}`,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.2},children:[o&&a.jsx("div",{className:"selection-checkbox",onClick:()=>f(S.id),children:i.has(S.id)?a.jsx(qt,{}):a.jsx(ft,{})}),a.jsxs("div",{className:"image-preview",children:[a.jsx("img",{src:S.src,alt:S.fileName,loading:"lazy"}),a.jsxs("div",{className:"image-overlay",children:[a.jsx("button",{className:"overlay-btn",onClick:()=>ee(S),title:"复制链接",children:a.jsx(Xe,{})}),a.jsx("button",{className:"overlay-btn",onClick:()=>w(S.id),title:te(S.id)?"取消收藏":"收藏",children:te(S.id)?a.jsx(Be,{}):a.jsx(At,{})}),a.jsx("button",{className:"overlay-btn danger",onClick:()=>q(S),title:"删除",children:a.jsx(de,{})})]})]}),a.jsxs("div",{className:"image-info",children:[a.jsx("p",{className:"image-name",title:S.fileName,children:S.fileName}),a.jsxs("div",{className:"image-meta",children:[a.jsxs("span",{children:[a.jsx(Et,{}),er(S.fileSize)]}),a.jsxs("span",{children:[a.jsx(Wt,{}),tr(S.uploadTime)]})]})]})]},S.id))}),d&&a.jsx("div",{className:"modal-overlay",onClick:()=>x(!1),children:a.jsxs(M.div,{className:"modal",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:S=>S.stopPropagation(),children:[a.jsx("div",{className:"modal-header",children:a.jsxs("h3",{children:[a.jsx(de,{}),"确认删除"]})}),a.jsxs("div",{className:"modal-body",children:[a.jsx("p",{children:"确定要删除这张图片吗？此操作无法撤销。"}),m&&a.jsxs("div",{className:"delete-preview",children:[a.jsx("img",{src:m.src,alt:m.fileName}),a.jsx("p",{children:m.fileName})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{className:"btn btn-outline",onClick:()=>x(!1),children:"取消"}),a.jsxs("button",{className:"btn btn-danger",onClick:E,children:[a.jsx(de,{}),"确认删除"]})]})]})})]})},zs=()=>{const e=xe(),{images:r,fetchImages:t}=Ze(),{favorites:n,toggleFavorite:s}=et();L.useEffect(()=>{t()},[t]);const i=r.filter(l=>n.has(l.id)),o=l=>{const u=window.location.origin+l.src;navigator.clipboard.writeText(u),N.success("链接已复制")},c=l=>{s(l),N.success("已取消收藏")};return a.jsxs(M.div,{className:"favorites-page",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[a.jsx("div",{className:"favorites-header",children:a.jsxs("div",{className:"header-left",children:[a.jsxs("h1",{className:"page-title",children:[a.jsx(Be,{}),"我的收藏"]}),a.jsxs("p",{className:"page-subtitle",children:["共 ",i.length," 张收藏图片"]})]})}),i.length===0?a.jsxs("div",{className:"empty-state",children:[a.jsx(At,{className:"empty-icon"}),a.jsx("h3",{children:"还没有收藏图片"}),a.jsx("p",{children:"在图片管理中点击爱心图标即可收藏"}),a.jsxs("button",{className:"btn btn-primary",onClick:()=>e("/dashboard"),children:[a.jsx(se,{}),"前往图片管理"]})]}):a.jsx("div",{className:"favorites-grid",children:i.map(l=>a.jsxs(M.div,{className:"favorite-card",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.2},children:[a.jsxs("div",{className:"image-preview",children:[a.jsx("img",{src:l.src,alt:l.fileName,loading:"lazy"}),a.jsxs("div",{className:"image-overlay",children:[a.jsx("button",{className:"overlay-btn",onClick:()=>o(l),title:"复制链接",children:a.jsx(Xe,{})}),a.jsx("button",{className:"overlay-btn danger",onClick:()=>c(l.id),title:"取消收藏",children:a.jsx(Be,{})})]})]}),a.jsxs("div",{className:"image-info",children:[a.jsx("p",{className:"image-name",title:l.fileName,children:l.fileName}),a.jsxs("div",{className:"image-meta",children:[a.jsxs("span",{children:[a.jsx(Et,{}),er(l.fileSize)]}),a.jsxs("span",{children:[a.jsx(Wt,{}),tr(l.uploadTime)]})]})]})]},l.id))})]})},Rs=be((e,r)=>({tags:[],currentTag:null,isLoading:!1,error:null,fetchTags:()=>C(P,null,function*(){var t,n;e({isLoading:!0,error:null});try{const s=yield T.get("/api/tags"),{tags:i}=s.data;return e({tags:i,isLoading:!1,error:null}),{success:!0,tags:i}}catch(s){const i=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"获取标签列表失败";return e({error:i,isLoading:!1}),{success:!1,error:i}}}),createTag:t=>C(P,null,function*(){var n,s;e({isLoading:!0,error:null});try{const i=yield T.post("/api/tags",t),{tag:o}=i.data;return e(c=>({tags:[...c.tags,o],isLoading:!1,error:null})),{success:!0,tag:o}}catch(i){const o=((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.error)||"创建标签失败";return e({error:o,isLoading:!1}),{success:!1,error:o}}}),updateTag:(t,n)=>C(P,null,function*(){var s,i;e({isLoading:!0,error:null});try{const o=yield T.put(`/api/tags/${t}`,n),{tag:c}=o.data;return e(l=>({tags:l.tags.map(u=>u.id===t?c:u),isLoading:!1,error:null})),{success:!0,tag:c}}catch(o){const c=((i=(s=o.response)==null?void 0:s.data)==null?void 0:i.error)||"更新标签失败";return e({error:c,isLoading:!1}),{success:!1,error:c}}}),deleteTag:t=>C(P,null,function*(){var n,s;e({isLoading:!0,error:null});try{return yield T.delete(`/api/tags/${t}`),e(i=>({tags:i.tags.filter(o=>o.id!==t),isLoading:!1,error:null})),{success:!0}}catch(i){const o=((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.error)||"删除标签失败";return e({error:o,isLoading:!1}),{success:!1,error:o}}}),batchTagOperation:(t,n,s)=>C(P,null,function*(){var i,o;e({isLoading:!0,error:null});try{return yield T.post("/api/tags/batch",{action:t,imageIds:n,tagIds:s}),e({isLoading:!1,error:null}),{success:!0}}catch(c){const l=((o=(i=c.response)==null?void 0:i.data)==null?void 0:o.error)||"批量操作失败";return e({error:l,isLoading:!1}),{success:!1,error:l}}}),getTagImages:t=>C(P,null,function*(){var n,s;e({isLoading:!0,error:null});try{const i=yield T.get(`/api/tags/${t}/images`),{images:o}=i.data;return e({isLoading:!1,error:null}),{success:!0,images:o}}catch(i){const o=((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.error)||"获取标签图片失败";return e({error:o,isLoading:!1}),{success:!1,error:o}}}),setCurrentTag:t=>{e({currentTag:t})},findTagByName:t=>r().tags.find(n=>n.name===t),getTagCount:()=>r().tags.length,clearError:()=>{e({error:null})},reset:()=>{e({tags:[],currentTag:null,error:null})}})),Bs=()=>{const{tags:e,isLoading:r,fetchTags:t,createTag:n,updateTag:s,deleteTag:i}=Rs(),[o,c]=L.useState(!1),[l,u]=L.useState(!1),[y,p]=L.useState(null),[h,f]=L.useState(""),[v,g]=L.useState("#3b82f6");L.useEffect(()=>{t()},[t]);const b=m=>C(P,null,function*(){if(m.preventDefault(),!h.trim()){N.error("请输入标签名称");return}const k=yield n({name:h,color:v});k.success?(N.success("标签创建成功"),c(!1),f(""),g("#3b82f6")):N.error(k.error)}),w=m=>{p(m),f(m.name),g(m.color),u(!0)},d=m=>C(P,null,function*(){if(m.preventDefault(),!h.trim()){N.error("请输入标签名称");return}const k=yield s(y.id,{name:h,color:v});k.success?(N.success("标签更新成功"),u(!1),p(null),f(""),g("#3b82f6")):N.error(k.error)}),x=m=>C(P,null,function*(){if(!window.confirm("确定要删除这个标签吗？"))return;const q=yield i(m);q.success?N.success("标签已删除"):N.error(q.error)});return a.jsxs(M.div,{className:"tags-page",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[a.jsxs("div",{className:"tags-header",children:[a.jsxs("div",{className:"header-left",children:[a.jsxs("h1",{className:"page-title",children:[a.jsx(Ue,{}),"标签管理"]}),a.jsxs("p",{className:"page-subtitle",children:["共 ",e.length," 个标签"]})]}),a.jsx("div",{className:"header-right",children:a.jsxs("button",{className:"btn btn-primary",onClick:()=>c(!0),children:[a.jsx(Ie,{}),"创建标签"]})})]}),r?a.jsxs("div",{className:"loading-container",children:[a.jsx("div",{className:"spinner"}),a.jsx("p",{children:"加载中..."})]}):e.length===0?a.jsxs("div",{className:"empty-state",children:[a.jsx(Ue,{className:"empty-icon"}),a.jsx("h3",{children:"还没有标签"}),a.jsx("p",{children:"创建标签来更好地组织您的图片"}),a.jsxs("button",{className:"btn btn-primary",onClick:()=>c(!0),children:[a.jsx(Ie,{}),"创建第一个标签"]})]}):a.jsx("div",{className:"tags-grid",children:e.map(m=>a.jsxs(M.div,{className:"tag-card",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.2},children:[a.jsx("div",{className:"tag-color",style:{backgroundColor:m.color}}),a.jsxs("div",{className:"tag-content",children:[a.jsx("h3",{className:"tag-name",children:m.name}),a.jsxs("p",{className:"tag-count",children:[m.count||0," 张图片"]})]}),a.jsxs("div",{className:"tag-actions",children:[a.jsx("button",{className:"tag-action-btn",onClick:()=>w(m),title:"编辑",children:a.jsx(Qe,{})}),a.jsx("button",{className:"tag-action-btn danger",onClick:()=>x(m.id),title:"删除",children:a.jsx(de,{})})]})]},m.id))}),o&&a.jsx("div",{className:"modal-overlay",onClick:()=>c(!1),children:a.jsxs(M.div,{className:"modal",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:m=>m.stopPropagation(),children:[a.jsx("div",{className:"modal-header",children:a.jsxs("h3",{children:[a.jsx(Ie,{}),"创建标签"]})}),a.jsxs("form",{onSubmit:b,children:[a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"标签名称"}),a.jsx("input",{type:"text",className:"input",value:h,onChange:m=>f(m.target.value),placeholder:"输入标签名称",autoFocus:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"标签颜色"}),a.jsx("input",{type:"color",className:"color-input",value:v,onChange:m=>g(m.target.value)})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>c(!1),children:"取消"}),a.jsxs("button",{type:"submit",className:"btn btn-primary",children:[a.jsx(ye,{}),"创建"]})]})]})]})}),l&&a.jsx("div",{className:"modal-overlay",onClick:()=>u(!1),children:a.jsxs(M.div,{className:"modal",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:m=>m.stopPropagation(),children:[a.jsx("div",{className:"modal-header",children:a.jsxs("h3",{children:[a.jsx(Qe,{}),"编辑标签"]})}),a.jsxs("form",{onSubmit:d,children:[a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"标签名称"}),a.jsx("input",{type:"text",className:"input",value:h,onChange:m=>f(m.target.value),placeholder:"输入标签名称",autoFocus:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"标签颜色"}),a.jsx("input",{type:"color",className:"color-input",value:v,onChange:m=>g(m.target.value)})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>u(!1),children:"取消"}),a.jsxs("button",{type:"submit",className:"btn btn-primary",children:[a.jsx(ye,{}),"保存"]})]})]})]})})]})},rr=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),nr=e=>{const r={isValid:!1,strength:"weak",errors:[]};if(!e)return r.errors.push("密码不能为空"),r;e.length<8&&r.errors.push("密码长度至少为8位"),/[A-Z]/.test(e)||r.errors.push("密码需包含至少一个大写字母"),/[a-z]/.test(e)||r.errors.push("密码需包含至少一个小写字母"),/\d/.test(e)||r.errors.push("密码需包含至少一个数字"),/[!@#$%^&*(),.?":{}|<>]/.test(e)||r.errors.push("密码需包含至少一个特殊字符");let t=0;return e.length>=8&&t++,e.length>=12&&t++,/[A-Z]/.test(e)&&t++,/[a-z]/.test(e)&&t++,/\d/.test(e)&&t++,/[!@#$%^&*(),.?":{}|<>]/.test(e)&&t++,t<=2?r.strength="weak":t<=4?r.strength="medium":r.strength="strong",r.isValid=r.errors.length===0,r},ar=e=>{const r={isValid:!1,errors:[]};return e?(e.length<3&&r.errors.push("用户名长度至少为3位"),e.length>20&&r.errors.push("用户名长度不能超过20位"),/^[a-zA-Z0-9_]+$/.test(e)||r.errors.push("用户名只能包含字母、数字和下划线"),/^\d/.test(e)&&r.errors.push("用户名不能以数字开头"),r.isValid=r.errors.length===0,r):(r.errors.push("用户名不能为空"),r)},Qs=e=>{const r={isValid:!1,errors:[]};return e?(rr(e)||r.errors.push("邮箱格式不正确"),r.isValid=r.errors.length===0,r):(r.errors.push("邮箱不能为空"),r)},Us=()=>{const e=xe(),{login:r}=G(),[t,n]=L.useState(!1),[s,i]=L.useState({username:"",password:""}),[o,c]=L.useState({}),l=p=>{const{name:h,value:f}=p.target;i(v=>A(O({},v),{[h]:f})),o[h]&&c(v=>A(O({},v),{[h]:""}))},u=()=>{const p={};return s.username.trim()||(p.username="请输入用户名或邮箱"),s.password?s.password.length<6&&(p.password="密码长度至少为6位"):p.password="请输入密码",c(p),Object.keys(p).length===0},y=p=>C(P,null,function*(){if(p.preventDefault(),!!u()){n(!0);try{const h=yield r({username:s.username,password:s.password});h.success?(N.success("登录成功！"),e("/dashboard")):N.error(h.error)}catch(h){N.error("登录失败，请重试")}finally{n(!1)}}});return a.jsxs(M.div,{className:"login-page",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[a.jsxs("div",{className:"login-header",children:[a.jsx("h1",{children:"欢迎回来"}),a.jsx("p",{children:"登录您的账户继续使用"})]}),a.jsxs("form",{className:"login-form",onSubmit:y,children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"username",children:"用户名或邮箱"}),a.jsx("input",{type:"text",id:"username",name:"username",placeholder:"请输入用户名或邮箱",value:s.username,onChange:l,disabled:t}),o.username&&a.jsx("span",{className:"form-error",children:o.username})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"password",children:"密码"}),a.jsx("input",{type:"password",id:"password",name:"password",placeholder:"请输入密码",value:s.password,onChange:l,disabled:t}),o.password&&a.jsx("span",{className:"form-error",children:o.password})]}),a.jsx("div",{className:"form-actions",children:a.jsx("button",{type:"submit",className:"submit-btn",disabled:t,children:t?"登录中...":"登录"})})]}),a.jsx("div",{className:"form-footer",children:a.jsxs("p",{children:["还没有账号？ ",a.jsx(U,{to:"/register",children:"立即注册"})]})})]})},Vs=()=>{const e=xe(),{register:r}=G(),[t,n]=L.useState(!1),[s,i]=L.useState({username:"",email:"",password:"",confirmPassword:""}),[o,c]=L.useState({}),l=p=>{const{name:h,value:f}=p.target;i(v=>A(O({},v),{[h]:f})),o[h]&&c(v=>A(O({},v),{[h]:""}))},u=()=>{const p={},h=ar(s.username);h.isValid||(p.username=h.errors[0]),s.email.trim()?rr(s.email)||(p.email="请输入有效的邮箱地址"):p.email="请输入邮箱";const f=nr(s.password);return f.isValid||(p.password=f.errors[0]),s.confirmPassword?s.password!==s.confirmPassword&&(p.confirmPassword="两次输入的密码不一致"):p.confirmPassword="请确认密码",c(p),Object.keys(p).length===0},y=p=>C(P,null,function*(){if(p.preventDefault(),!!u()){n(!0);try{const h=yield r({username:s.username,email:s.email,password:s.password});h.success?(N.success("注册成功！"),e("/dashboard")):N.error(h.error)}catch(h){N.error("注册失败，请重试")}finally{n(!1)}}});return a.jsxs(M.div,{className:"login-page",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[a.jsxs("div",{className:"login-header",children:[a.jsx("h1",{children:"创建账户"}),a.jsx("p",{children:"注册新账户开始使用"})]}),a.jsxs("form",{className:"login-form",onSubmit:y,children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"username",children:"用户名"}),a.jsx("input",{type:"text",id:"username",name:"username",placeholder:"请输入用户名",value:s.username,onChange:l,disabled:t}),o.username&&a.jsx("span",{className:"form-error",children:o.username})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"email",children:"邮箱"}),a.jsx("input",{type:"email",id:"email",name:"email",placeholder:"请输入邮箱",value:s.email,onChange:l,disabled:t}),o.email&&a.jsx("span",{className:"form-error",children:o.email})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"password",children:"密码"}),a.jsx("input",{type:"password",id:"password",name:"password",placeholder:"请输入密码（至少8位）",value:s.password,onChange:l,disabled:t}),o.password&&a.jsx("span",{className:"form-error",children:o.password})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"confirmPassword",children:"确认密码"}),a.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",placeholder:"请再次输入密码",value:s.confirmPassword,onChange:l,disabled:t}),o.confirmPassword&&a.jsx("span",{className:"form-error",children:o.confirmPassword})]}),a.jsx("div",{className:"form-actions",children:a.jsx("button",{type:"submit",className:"submit-btn",disabled:t,children:t?"注册中...":"注册"})})]}),a.jsx("div",{className:"form-footer",children:a.jsxs("p",{children:["已有账号？ ",a.jsx(U,{to:"/login",children:"立即登录"})]})})]})},Ys=()=>{const{user:e,updateProfile:r}=G(),[t,n]=L.useState(!1),[s,i]=L.useState({username:(e==null?void 0:e.username)||"",email:(e==null?void 0:e.email)||"",bio:(e==null?void 0:e.bio)||"",avatar:(e==null?void 0:e.avatar)||""}),[o,c]=L.useState({}),[l,u]=L.useState(!1),y=v=>{const{name:g,value:b}=v.target;i(w=>A(O({},w),{[g]:b})),o[g]&&c(w=>A(O({},w),{[g]:""}))},p=()=>{const v={},g=ar(s.username);g.isValid||(v.username=g.errors[0]);const b=Qs(s.email);return b.isValid||(v.email=b.errors[0]),c(v),Object.keys(v).length===0},h=v=>C(P,null,function*(){if(v.preventDefault(),!!p()){u(!0);try{const g=yield r(s);g.success?(N.success("资料更新成功"),n(!1)):N.error(g.error)}catch(g){N.error("更新失败，请重试")}finally{u(!1)}}}),f=()=>{i({username:(e==null?void 0:e.username)||"",email:(e==null?void 0:e.email)||"",bio:(e==null?void 0:e.bio)||"",avatar:(e==null?void 0:e.avatar)||""}),c({}),n(!1)};return a.jsxs(M.div,{className:"profile-page",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[a.jsxs("div",{className:"profile-header",children:[a.jsxs("h1",{className:"page-title",children:[a.jsx(ge,{}),"个人资料"]}),a.jsx("p",{className:"page-subtitle",children:"管理您的账户信息"})]}),a.jsxs("div",{className:"profile-card",children:[a.jsxs("div",{className:"avatar-section",children:[a.jsx("div",{className:"avatar-container",children:s.avatar?a.jsx("img",{src:s.avatar,alt:"头像",className:"avatar"}):a.jsx("div",{className:"avatar-placeholder",children:a.jsx(ge,{})})}),t&&a.jsxs("button",{className:"btn btn-sm btn-outline",children:[a.jsx(Z,{}),"更换头像"]})]}),a.jsxs("form",{onSubmit:h,className:"profile-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"username",children:[a.jsx(ge,{}),"用户名"]}),a.jsx("input",{type:"text",id:"username",name:"username",className:`input ${o.username?"error":""}`,value:s.username,onChange:y,disabled:!t}),o.username&&a.jsx("span",{className:"error-message",children:o.username})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"email",children:[a.jsx(wn,{}),"邮箱"]}),a.jsx("input",{type:"email",id:"email",name:"email",className:`input ${o.email?"error":""}`,value:s.email,onChange:y,disabled:!t}),o.email&&a.jsx("span",{className:"error-message",children:o.email})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"bio",children:[a.jsx(gn,{}),"个人简介"]}),a.jsx("textarea",{id:"bio",name:"bio",className:"textarea",value:s.bio,onChange:y,disabled:!t,rows:"4",placeholder:"介绍一下自己..."})]}),a.jsx("div",{className:"form-actions",children:t?a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"btn btn-outline",onClick:f,disabled:l,children:"取消"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"btn-spinner"}),"保存中..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ye,{}),"保存更改"]})})]}):a.jsxs("button",{type:"button",className:"btn btn-primary",onClick:()=>n(!0),children:[a.jsx(Qe,{}),"编辑资料"]})})]})]}),a.jsxs("div",{className:"account-info",children:[a.jsxs("h2",{className:"section-title",children:[a.jsx(yn,{}),"账户信息"]}),a.jsxs("div",{className:"info-grid",children:[a.jsxs("div",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:"注册时间"}),a.jsx("span",{className:"info-value",children:e!=null&&e.createdAt?new Date(e.createdAt).toLocaleDateString("zh-CN"):"未知"})]}),a.jsxs("div",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:"用户ID"}),a.jsx("span",{className:"info-value",children:(e==null?void 0:e.id)||"未知"})]}),a.jsxs("div",{className:"info-item",children:[a.jsx("span",{className:"info-label",children:"账户状态"}),a.jsxs("span",{className:"info-value status-active",children:[a.jsx(qt,{}),"正常"]})]})]})]})]})},Gs=()=>{const{theme:e,toggleTheme:r}=Ge(),{user:t,changePassword:n,logout:s}=G(),[i,o]=L.useState(!1),[c,l]=L.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[u,y]=L.useState({}),[p,h]=L.useState(!1),[f,v]=L.useState({emailNotifications:!0,uploadNotifications:!0,autoSave:!0,compressImages:!1,defaultPrivacy:"public"}),g=m=>{const{name:k,value:q}=m.target;l(E=>A(O({},E),{[k]:q})),u[k]&&y(E=>A(O({},E),{[k]:""}))},b=()=>{const m={};c.currentPassword||(m.currentPassword="请输入当前密码");const k=nr(c.newPassword);return k.isValid||(m.newPassword=k.errors[0]),c.newPassword!==c.confirmPassword&&(m.confirmPassword="两次输入的密码不一致"),y(m),Object.keys(m).length===0},w=m=>C(P,null,function*(){if(m.preventDefault(),!!b()){h(!0);try{const k=yield n(c.currentPassword,c.newPassword);k.success?(N.success("密码修改成功"),l({currentPassword:"",newPassword:"",confirmPassword:""}),o(!1)):N.error(k.error)}catch(k){N.error("修改失败，请重试")}finally{h(!1)}}}),d=(m,k)=>{v(q=>A(O({},q),{[m]:k})),N.success("设置已保存")},x=()=>{window.confirm("确定要注销账户吗？此操作无法撤销，所有数据将被永久删除。")&&window.confirm("请再次确认：真的要删除账户吗？")&&N.error("账户注销功能暂未开放")};return a.jsxs(M.div,{className:"settings-page",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[a.jsxs("div",{className:"settings-header",children:[a.jsxs("h1",{className:"page-title",children:[a.jsx(Ke,{}),"设置"]}),a.jsx("p",{className:"page-subtitle",children:"管理您的偏好设置和账户安全"})]}),a.jsxs("div",{className:"settings-content",children:[a.jsxs("section",{className:"settings-section",children:[a.jsxs("h2",{className:"section-title",children:[a.jsx(mn,{}),"外观设置"]}),a.jsxs("div",{className:"setting-item",children:[a.jsxs("div",{className:"setting-info",children:[a.jsx("h3",{children:"主题模式"}),a.jsx("p",{children:"选择浅色或深色主题"})]}),a.jsxs("div",{className:"theme-switcher",children:[a.jsxs("button",{className:`theme-option ${e==="light"?"active":""}`,onClick:()=>e==="dark"&&r(),children:[a.jsx(Rt,{}),"浅色"]}),a.jsxs("button",{className:`theme-option ${e==="dark"?"active":""}`,onClick:()=>e==="light"&&r(),children:[a.jsx(_t,{}),"深色"]})]})]})]}),a.jsxs("section",{className:"settings-section",children:[a.jsxs("h2",{className:"section-title",children:[a.jsx(dn,{}),"通知设置"]}),a.jsxs("div",{className:"setting-item",children:[a.jsxs("div",{className:"setting-info",children:[a.jsx("h3",{children:"邮件通知"}),a.jsx("p",{children:"接收重要更新和活动通知"})]}),a.jsxs("label",{className:"toggle-switch",children:[a.jsx("input",{type:"checkbox",checked:f.emailNotifications,onChange:m=>d("emailNotifications",m.target.checked)}),a.jsx("span",{className:"toggle-slider"})]})]}),a.jsxs("div",{className:"setting-item",children:[a.jsxs("div",{className:"setting-info",children:[a.jsx("h3",{children:"上传通知"}),a.jsx("p",{children:"图片上传完成后发送通知"})]}),a.jsxs("label",{className:"toggle-switch",children:[a.jsx("input",{type:"checkbox",checked:f.uploadNotifications,onChange:m=>d("uploadNotifications",m.target.checked)}),a.jsx("span",{className:"toggle-slider"})]})]})]}),a.jsxs("section",{className:"settings-section",children:[a.jsxs("h2",{className:"section-title",children:[a.jsx(Z,{}),"上传设置"]}),a.jsxs("div",{className:"setting-item",children:[a.jsxs("div",{className:"setting-info",children:[a.jsx("h3",{children:"自动保存"}),a.jsx("p",{children:"上传后自动保存到我的图片"})]}),a.jsxs("label",{className:"toggle-switch",children:[a.jsx("input",{type:"checkbox",checked:f.autoSave,onChange:m=>d("autoSave",m.target.checked)}),a.jsx("span",{className:"toggle-slider"})]})]}),a.jsxs("div",{className:"setting-item",children:[a.jsxs("div",{className:"setting-info",children:[a.jsx("h3",{children:"图片压缩"}),a.jsx("p",{children:"上传时自动压缩图片以节省空间"})]}),a.jsxs("label",{className:"toggle-switch",children:[a.jsx("input",{type:"checkbox",checked:f.compressImages,onChange:m=>d("compressImages",m.target.checked)}),a.jsx("span",{className:"toggle-slider"})]})]}),a.jsxs("div",{className:"setting-item",children:[a.jsxs("div",{className:"setting-info",children:[a.jsx("h3",{children:"默认隐私"}),a.jsx("p",{children:"新上传图片的默认可见性"})]}),a.jsxs("select",{className:"select",value:f.defaultPrivacy,onChange:m=>d("defaultPrivacy",m.target.value),children:[a.jsx("option",{value:"public",children:"公开"}),a.jsx("option",{value:"private",children:"私密"}),a.jsx("option",{value:"unlisted",children:"不公开列出"})]})]})]}),a.jsxs("section",{className:"settings-section",children:[a.jsxs("h2",{className:"section-title",children:[a.jsx(zt,{}),"安全设置"]}),a.jsxs("div",{className:"setting-item",children:[a.jsxs("div",{className:"setting-info",children:[a.jsx("h3",{children:"修改密码"}),a.jsx("p",{children:"定期更换密码以保护账户安全"})]}),a.jsxs("button",{className:"btn btn-outline",onClick:()=>o(!i),children:[a.jsx(xn,{}),i?"取消":"修改密码"]})]}),i&&a.jsxs(M.form,{className:"password-form",onSubmit:w,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"currentPassword",children:"当前密码"}),a.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",className:`input ${u.currentPassword?"error":""}`,value:c.currentPassword,onChange:g,placeholder:"输入当前密码"}),u.currentPassword&&a.jsx("span",{className:"error-message",children:u.currentPassword})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"newPassword",children:"新密码"}),a.jsx("input",{type:"password",id:"newPassword",name:"newPassword",className:`input ${u.newPassword?"error":""}`,value:c.newPassword,onChange:g,placeholder:"输入新密码"}),u.newPassword&&a.jsx("span",{className:"error-message",children:u.newPassword})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"confirmPassword",children:"确认新密码"}),a.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",className:`input ${u.confirmPassword?"error":""}`,value:c.confirmPassword,onChange:g,placeholder:"再次输入新密码"}),u.confirmPassword&&a.jsx("span",{className:"error-message",children:u.confirmPassword})]}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,children:p?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"btn-spinner"}),"修改中..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ye,{}),"确认修改"]})})]})]}),a.jsxs("section",{className:"settings-section danger-section",children:[a.jsxs("h2",{className:"section-title",children:[a.jsx(Ht,{}),"危险区域"]}),a.jsxs("div",{className:"setting-item",children:[a.jsxs("div",{className:"setting-info",children:[a.jsx("h3",{children:"注销账户"}),a.jsx("p",{children:"永久删除您的账户��所有数据"})]}),a.jsxs("button",{className:"btn btn-danger",onClick:x,children:[a.jsx(de,{}),"注销账户"]})]})]})]})]})},Ks=()=>{const e=[{question:"如何上传图片？",answer:"您可以通过三种方式上传图片：1. 拖拽图片到上传区域；2. 点击上传区域选择文件；3. 使用 Ctrl+V 粘贴剪贴板中的图片。"},{question:"支持哪些图片格式？",answer:"我们支持常见的图片格式，包括 PNG、JPG、JPEG、GIF、WebP 和 SVG。"},{question:"图片大小有限制吗？",answer:"单个图片文件大小限制为 10MB。如果需要上传更大的文件，建议先进行压缩。"},{question:"上传的图片会保存多久？",answer:"基于 Telegram 的存储特性，您上传的图片将永久保存，不会过期。"},{question:"如何管理我的图片？",answer:'注册并登录后，您可以在"我的图片"页面查看、编辑、删除和管理所有上传的图片。'},{question:"什么是收藏功能？",answer:"收藏功能允许您标记重要的图片，方便快速查找。在图片卡片上点击星标图标即可收藏。"},{question:"如何使用标签？",answer:'标签可以帮助您分类管理图片。您可以在"标签管理"页面创建标签，然后在编辑图片时为图片添加标签。'},{question:"是否支持批量操作？",answer:'是的，在"我的图片"页面，您可以开启选择模式，批量选择图片进行删除、添加标签等操作。'}],r=[{Icon:Z,title:"快速上传",description:"支持拖拽、点击和粘贴三种上传方式"},{Icon:se,title:"图片管理",description:"完整的图片管理功能，支持搜索、筛选和排序"},{Icon:Je,title:"收藏功能",description:"标记重要图片，快速访问常用资源"},{Icon:Ue,title:"标签系统",description:"使用标签分类管理，提高组织效率"},{Icon:zt,title:"安全可靠",description:"基于 Telegram 存储，数据安全有保障"},{Icon:pn,title:"响应式设计",description:"完美适配各种设备，随时随地访问"}];return a.jsxs(M.div,{className:"help-page",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsxs("div",{className:"help-header",children:[a.jsx("h1",{className:"help-title",children:"帮助中心"}),a.jsx("p",{className:"help-subtitle",children:"了解如何使用 TG-Image，快速上手图片管理"})]}),a.jsxs("section",{className:"help-section",children:[a.jsx("h2",{className:"section-title",children:"核心功能"}),a.jsx("div",{className:"features-grid",children:r.map((t,n)=>a.jsxs(M.div,{className:"feature-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1,duration:.5},children:[a.jsx("div",{className:"feature-icon",children:a.jsx(t.Icon,{})}),a.jsx("h3",{className:"feature-title",children:t.title}),a.jsx("p",{className:"feature-description",children:t.description})]},n))})]}),a.jsxs("section",{className:"help-section",children:[a.jsx("h2",{className:"section-title",children:"常见问题"}),a.jsx("div",{className:"faq-list",children:e.map((t,n)=>a.jsxs(M.div,{className:"faq-item",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.05,duration:.5},children:[a.jsxs("h3",{className:"faq-question",children:[a.jsx($t,{}),t.question]}),a.jsx("p",{className:"faq-answer",children:t.answer})]},n))})]}),a.jsx("section",{className:"help-section",children:a.jsxs("div",{className:"contact-card",children:[a.jsx("div",{className:"contact-icon",children:a.jsx(kn,{})}),a.jsx("h2",{className:"contact-title",children:"需要更多帮助？"}),a.jsx("p",{className:"contact-description",children:"如果您有其他问题或建议，欢迎通过以下方式联系我们"}),a.jsxs("div",{className:"contact-actions",children:[a.jsxs("a",{href:"https://github.com/xiyewuqiu/new-lmage/issues",target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary",children:[a.jsx(Bt,{}),"GitHub Issues"]}),a.jsxs("a",{href:"mailto:support@tg-image.com",className:"btn btn-secondary",children:[a.jsx(Dn,{}),"发送邮件"]})]})]})})]})},Xs=()=>a.jsx(M.div,{className:"not-found-page",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},children:a.jsxs("div",{className:"not-found-content",children:[a.jsx(M.div,{className:"not-found-icon",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.5},children:a.jsx(Ht,{})}),a.jsx(M.h1,{className:"not-found-title",initial:{y:-30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.5},children:"404"}),a.jsx(M.p,{className:"not-found-subtitle",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.5},children:"抱歉，您访问的页面不存在"}),a.jsx(M.p,{className:"not-found-description",initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.5},children:"页面可能已被删除、移动或从未存在过"}),a.jsxs(M.div,{className:"not-found-actions",initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.5},children:[a.jsxs(U,{to:"/",className:"btn btn-primary",children:[a.jsx(It,{}),"返回首页"]}),a.jsxs("button",{className:"btn btn-secondary",onClick:()=>window.history.back(),children:[a.jsx(un,{}),"返回上一页"]})]}),a.jsxs("div",{className:"not-found-decoration",children:[a.jsx(M.div,{className:"decoration-circle decoration-circle-1",animate:{y:[0,-20,0],rotate:[0,180,360]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),a.jsx(M.div,{className:"decoration-circle decoration-circle-2",animate:{y:[0,20,0],rotate:[360,180,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}})]})]})}),pe=({children:e})=>{const{isAuthenticated:r}=G();return r?e:a.jsx(Ve,{to:"/login",replace:!0})};function Js(){const{theme:e,initTheme:r}=Ge(),{initAuth:t}=G();return L.useEffect(()=>{r(),t()},[r,t]),L.useEffect(()=>{e==="dark"?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")},[e]),a.jsxs(a.Fragment,{children:[a.jsx(Qt,{}),a.jsx(De,{mode:"wait",children:a.jsxs(vr,{children:[a.jsxs($,{element:a.jsx(qn,{}),children:[a.jsx($,{path:"/",element:a.jsx(zn,{})}),a.jsx($,{path:"/help",element:a.jsx(Ks,{})}),a.jsx($,{path:"/dashboard",element:a.jsx(pe,{children:a.jsx($s,{})})}),a.jsx($,{path:"/favorites",element:a.jsx(pe,{children:a.jsx(zs,{})})}),a.jsx($,{path:"/tags",element:a.jsx(pe,{children:a.jsx(Bs,{})})}),a.jsx($,{path:"/profile",element:a.jsx(pe,{children:a.jsx(Ys,{})})}),a.jsx($,{path:"/settings",element:a.jsx(pe,{children:a.jsx(Gs,{})})})]}),a.jsxs($,{element:a.jsx(Wn,{}),children:[a.jsx($,{path:"/login",element:a.jsx(Us,{})}),a.jsx($,{path:"/register",element:a.jsx(Vs,{})})]}),a.jsx($,{path:"/404",element:a.jsx(Xs,{})}),a.jsx($,{path:"*",element:a.jsx(Ve,{to:"/404",replace:!0})})]})})]})}const Zs=new Ar({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:5*60*1e3,cacheTime:10*60*1e3},mutations:{retry:1}}});$e.createRoot(document.getElementById("root")).render(a.jsx(z.StrictMode,{children:a.jsx(Rr,{client:Zs,children:a.jsxs(yr,{children:[a.jsx(Js,{}),a.jsx(fr,{position:"top-right",reverseOrder:!1,gutter:8,toastOptions:{duration:3e3,style:{background:"#1e293b",color:"#f1f5f9",borderRadius:"12px",padding:"16px",fontSize:"14px",fontWeight:"500",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"},success:{duration:2e3,iconTheme:{primary:"#10b981",secondary:"#ffffff"},style:{background:"#10b981",color:"#ffffff"}},error:{duration:4e3,iconTheme:{primary:"#ef4444",secondary:"#ffffff"},style:{background:"#ef4444",color:"#ffffff"}},loading:{iconTheme:{primary:"#6366f1",secondary:"#ffffff"},style:{background:"#6366f1",color:"#ffffff"}}}})]})})}))});export default ei();
